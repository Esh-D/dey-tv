(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var vh={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function XT(){if(Gp)return zl;Gp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:f}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var Fp;function $T(){return Fp||(Fp=1,vh.exports=XT()),vh.exports}var Ft=$T(),Eh={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function ZT(){if(Qp)return vt;Qp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.iterator;function k(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function X(C,Y,rt){this.props=C,this.context=Y,this.refs=W,this.updater=rt||q}X.prototype.isReactComponent={},X.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=X.prototype;function dt(C,Y,rt){this.props=C,this.context=Y,this.refs=W,this.updater=rt||q}var Et=dt.prototype=new St;Et.constructor=dt,Z(Et,X.prototype),Et.isPureReactComponent=!0;var Qt=Array.isArray,yt={H:null,A:null,T:null,S:null},Ut=Object.prototype.hasOwnProperty;function M(C,Y,rt,tt,et,Tt){return rt=Tt.ref,{$$typeof:r,type:C,key:Y,ref:rt!==void 0?rt:null,props:Tt}}function R(C,Y){return M(C.type,Y,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(rt){return Y[rt]})}var O=/\/+/g;function L(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function w(){}function ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,Y,rt,tt,et){var Tt=typeof C;(Tt==="undefined"||Tt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Tt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case r:case e:_t=!0;break;case b:return _t=C._init,oe(_t(C._payload),Y,rt,tt,et)}}if(_t)return et=et(C),_t=tt===""?"."+L(C,0):tt,Qt(et)?(rt="",_t!=null&&(rt=_t.replace(O,"$&/")+"/"),oe(et,Y,rt,"",function(ee){return ee})):et!=null&&(A(et)&&(et=R(et,rt+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(O,"$&/")+"/")+_t)),Y.push(et)),1;_t=0;var ce=tt===""?".":tt+":";if(Qt(C))for(var xt=0;xt<C.length;xt++)tt=C[xt],Tt=ce+L(tt,xt),_t+=oe(tt,Y,rt,Tt,et);else if(xt=k(C),typeof xt=="function")for(C=xt.call(C),xt=0;!(tt=C.next()).done;)tt=tt.value,Tt=ce+L(tt,xt++),_t+=oe(tt,Y,rt,Tt,et);else if(Tt==="object"){if(typeof C.then=="function")return oe(ge(C),Y,rt,tt,et);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _t}function J(C,Y,rt){if(C==null)return C;var tt=[],et=0;return oe(C,tt,"","",function(Tt){return Y.call(rt,Tt,et++)}),tt}function ft(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(rt){(C._status===0||C._status===-1)&&(C._status=1,C._result=rt)},function(rt){(C._status===0||C._status===-1)&&(C._status=2,C._result=rt)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function kt(){}return vt.Children={map:J,forEach:function(C,Y,rt){J(C,function(){Y.apply(this,arguments)},rt)},count:function(C){var Y=0;return J(C,function(){Y++}),Y},toArray:function(C){return J(C,function(Y){return Y})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},vt.Component=X,vt.Fragment=i,vt.Profiler=u,vt.PureComponent=dt,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.cache=function(C){return function(){return C.apply(null,arguments)}},vt.cloneElement=function(C,Y,rt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=Z({},C.props),et=C.key,Tt=void 0;if(Y!=null)for(_t in Y.ref!==void 0&&(Tt=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!Ut.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||(tt[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)tt.children=rt;else if(1<_t){for(var ce=Array(_t),xt=0;xt<_t;xt++)ce[xt]=arguments[xt+2];tt.children=ce}return M(C.type,et,void 0,void 0,Tt,tt)},vt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},vt.createElement=function(C,Y,rt){var tt,et={},Tt=null;if(Y!=null)for(tt in Y.key!==void 0&&(Tt=""+Y.key),Y)Ut.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var _t=arguments.length-2;if(_t===1)et.children=rt;else if(1<_t){for(var ce=Array(_t),xt=0;xt<_t;xt++)ce[xt]=arguments[xt+2];et.children=ce}if(C&&C.defaultProps)for(tt in _t=C.defaultProps,_t)et[tt]===void 0&&(et[tt]=_t[tt]);return M(C,Tt,void 0,void 0,null,et)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(C){return{$$typeof:g,render:C}},vt.isValidElement=A,vt.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ft}},vt.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},vt.startTransition=function(C){var Y=yt.T,rt={};yt.T=rt;try{var tt=C(),et=yt.S;et!==null&&et(rt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(kt,lt)}catch(Tt){lt(Tt)}finally{yt.T=Y}},vt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},vt.use=function(C){return yt.H.use(C)},vt.useActionState=function(C,Y,rt){return yt.H.useActionState(C,Y,rt)},vt.useCallback=function(C,Y){return yt.H.useCallback(C,Y)},vt.useContext=function(C){return yt.H.useContext(C)},vt.useDebugValue=function(){},vt.useDeferredValue=function(C,Y){return yt.H.useDeferredValue(C,Y)},vt.useEffect=function(C,Y){return yt.H.useEffect(C,Y)},vt.useId=function(){return yt.H.useId()},vt.useImperativeHandle=function(C,Y,rt){return yt.H.useImperativeHandle(C,Y,rt)},vt.useInsertionEffect=function(C,Y){return yt.H.useInsertionEffect(C,Y)},vt.useLayoutEffect=function(C,Y){return yt.H.useLayoutEffect(C,Y)},vt.useMemo=function(C,Y){return yt.H.useMemo(C,Y)},vt.useOptimistic=function(C,Y){return yt.H.useOptimistic(C,Y)},vt.useReducer=function(C,Y,rt){return yt.H.useReducer(C,Y,rt)},vt.useRef=function(C){return yt.H.useRef(C)},vt.useState=function(C){return yt.H.useState(C)},vt.useSyncExternalStore=function(C,Y,rt){return yt.H.useSyncExternalStore(C,Y,rt)},vt.useTransition=function(){return yt.H.useTransition()},vt.version="19.0.0",vt}var Kp;function rd(){return Kp||(Kp=1,Eh.exports=ZT()),Eh.exports}var dr=rd(),Th={exports:{}},Pl={},Ah={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function JT(){return Yp||(Yp=1,function(r){function e(J,ft){var lt=J.length;J.push(ft);t:for(;0<lt;){var kt=lt-1>>>1,C=J[kt];if(0<u(C,ft))J[kt]=ft,J[lt]=C,lt=kt;else break t}}function i(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ft=J[0],lt=J.pop();if(lt!==ft){J[0]=lt;t:for(var kt=0,C=J.length,Y=C>>>1;kt<Y;){var rt=2*(kt+1)-1,tt=J[rt],et=rt+1,Tt=J[et];if(0>u(tt,lt))et<C&&0>u(Tt,tt)?(J[kt]=Tt,J[et]=lt,kt=et):(J[kt]=tt,J[rt]=lt,kt=rt);else if(et<C&&0>u(Tt,lt))J[kt]=Tt,J[et]=lt,kt=et;else break t}}return ft}function u(J,ft){var lt=J.sortIndex-ft.sortIndex;return lt!==0?lt:J.id-ft.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],b=1,N=null,k=3,q=!1,Z=!1,W=!1,X=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Et(J){for(var ft=i(v);ft!==null;){if(ft.callback===null)s(v);else if(ft.startTime<=J)s(v),ft.sortIndex=ft.expirationTime,e(_,ft);else break;ft=i(v)}}function Qt(J){if(W=!1,Et(J),!Z)if(i(_)!==null)Z=!0,ge();else{var ft=i(v);ft!==null&&oe(Qt,ft.startTime-J)}}var yt=!1,Ut=-1,M=5,R=-1;function A(){return!(r.unstable_now()-R<M)}function D(){if(yt){var J=r.unstable_now();R=J;var ft=!0;try{t:{Z=!1,W&&(W=!1,St(Ut),Ut=-1),q=!0;var lt=k;try{e:{for(Et(J),N=i(_);N!==null&&!(N.expirationTime>J&&A());){var kt=N.callback;if(typeof kt=="function"){N.callback=null,k=N.priorityLevel;var C=kt(N.expirationTime<=J);if(J=r.unstable_now(),typeof C=="function"){N.callback=C,Et(J),ft=!0;break e}N===i(_)&&s(_),Et(J)}else s(_);N=i(_)}if(N!==null)ft=!0;else{var Y=i(v);Y!==null&&oe(Qt,Y.startTime-J),ft=!1}}break t}finally{N=null,k=lt,q=!1}ft=void 0}}finally{ft?O():yt=!1}}}var O;if(typeof dt=="function")O=function(){dt(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,w=L.port2;L.port1.onmessage=D,O=function(){w.postMessage(null)}}else O=function(){X(D,0)};function ge(){yt||(yt=!0,O())}function oe(J,ft){Ut=X(function(){J(r.unstable_now())},ft)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){Z||q||(Z=!0,ge())},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return i(_)},r.unstable_next=function(J){switch(k){case 1:case 2:case 3:var ft=3;break;default:ft=k}var lt=k;k=ft;try{return J()}finally{k=lt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,ft){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var lt=k;k=J;try{return ft()}finally{k=lt}},r.unstable_scheduleCallback=function(J,ft,lt){var kt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?kt+lt:kt):lt=kt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,J={id:b++,callback:ft,priorityLevel:J,startTime:lt,expirationTime:C,sortIndex:-1},lt>kt?(J.sortIndex=lt,e(v,J),i(_)===null&&J===i(v)&&(W?(St(Ut),Ut=-1):W=!0,oe(Qt,lt-kt))):(J.sortIndex=C,e(_,J),Z||q||(Z=!0,ge())),J},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(J){var ft=k;return function(){var lt=k;k=ft;try{return J.apply(this,arguments)}finally{k=lt}}}}(Sh)),Sh}var Xp;function WT(){return Xp||(Xp=1,Ah.exports=JT()),Ah.exports}var bh={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function t0(){if($p)return He;$p=1;var r=rd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,v,b){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:_,containerInfo:v,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,b)},He.flushSync=function(_){var v=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=b,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var b=v.as,N=g(b,v.crossOrigin),k=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:k,fetchPriority:q}):b==="script"&&s.d.X(_,{crossOrigin:N,integrity:k,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,N=g(b,v.crossOrigin);s.d.L(_,b,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var b=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,b){return d.H.useFormState(_,v,b)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Zp;function e0(){if(Zp)return bh.exports;Zp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bh.exports=t0(),bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function n0(){if(Jp)return Pl;Jp=1;var r=WT(),e=rd(),i=e0();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),Qt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case b:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case X:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q:return(t.displayName||"Context")+".Provider";case k:return(t._context.displayName||"Context")+".Consumer";case Z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case St:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,L;function w(t){if(O===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+L}var ge=!1;function oe(t,n){if(!t||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var P=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){P=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){P=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var S=y.split(`
`),V=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===V.length)for(l=S.length-1,c=V.length-1;1<=l&&0<=c&&S[l]!==V[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==V[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==V[c]){var j=`
`+S[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?w(a):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ft(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function lt(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function kt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(lt(t)!==t)throw Error(s(188))}function Y(t){var n=t.alternate;if(!n){if(n=lt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return C(c),t;if(h===l)return C(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=h;break}if(E===l){y=!0,l=c,a=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===a){y=!0,a=h,l=c;break}if(E===l){y=!0,l=h,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function rt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=rt(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},_t=[],ce=-1;function xt(t){return{current:t}}function ee(t){0>ce||(t.current=_t[ce],_t[ce]=null,ce--)}function Ht(t,n){ce++,_t[ce]=t.current,t.current=n}var Qe=xt(null),si=xt(null),hn=xt(null),Pi=xt(null);function ki(t,n){switch(Ht(hn,n),Ht(si,t),Ht(Qe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?vp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=vp(t),n=Ep(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(Qe),Ht(Qe,n)}function li(){ee(Qe),ee(si),ee(hn)}function Ns(t){t.memoizedState!==null&&Ht(Pi,t);var n=Qe.current,a=Ep(n,t.type);n!==a&&(Ht(si,t),Ht(Qe,a))}function wr(t){si.current===t&&(ee(Qe),ee(si)),Pi.current===t&&(ee(Pi),Nl._currentValue=Tt)}var Dr=Object.prototype.hasOwnProperty,xa=r.unstable_scheduleCallback,Cr=r.unstable_cancelCallback,Ec=r.unstable_shouldYield,Ms=r.unstable_requestPaint,Je=r.unstable_now,ru=r.unstable_getCurrentPriorityLevel,pe=r.unstable_ImmediatePriority,Re=r.unstable_UserBlockingPriority,ui=r.unstable_NormalPriority,su=r.unstable_LowPriority,Us=r.unstable_IdlePriority,Tc=r.log,La=r.unstable_setDisableYieldValue,Bi=null,Be=null;function xs(t){if(Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Bi,t,void 0,(t.current.flags&128)===128)}catch{}}function Pn(t){if(typeof Tc=="function"&&La(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Bi,t)}catch{}}var Ke=Math.clz32?Math.clz32:uu,Ls=Math.log,lu=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(Ls(t)/lu|0)|0}var kn=128,qi=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,h=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~c,a!==0?l=Vn(a):(h&=E,h!==0?l=Vn(h):t||(y=E&~y,y!==0&&(l=Vn(y))))):(E=a&~c,E!==0?l=Vn(E):h!==0?l=Vn(h):t||(y=a&~y,y!==0&&(l=Vn(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Hi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ir(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var t=kn;return kn<<=1,!(kn&4194176)&&(kn=128),t}function ji(){var t=qi;return qi<<=1,!(qi&62914560)&&(qi=4194304),t}function Vr(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ou(t,n,a,l,c,h){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,V=t.hiddenUpdates;for(a=y&~a;0<a;){var j=31-Ke(a),Q=1<<j;E[j]=0,S[j]=-1;var P=V[j];if(P!==null)for(V[j]=null,j=0;j<P.length;j++){var H=P[j];H!==null&&(H.lane&=-536870913)}a&=~Q}l!==0&&Gi(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function Gi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Fi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ke(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function cu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function fu(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Pp(t.type))}function Qi(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Bn=Math.random().toString(36).slice(2),we="__reactFiber$"+Bn,ye="__reactProps$"+Bn,oi="__reactContainer$"+Bn,za="__reactEvents$"+Bn,Or="__reactListeners$"+Bn,qn="__reactHandles$"+Bn,Ps="__reactResources$"+Bn,Ki="__reactMarker$"+Bn;function Pa(t){delete t[we],delete t[ye],delete t[za],delete t[Or],delete t[qn]}function On(t){var n=t[we];if(n)return n;for(var a=t.parentNode;a;){if(n=a[oi]||a[we]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Sp(t);t!==null;){if(a=t[we])return a;t=Sp(t)}return n}t=a,a=t.parentNode}return null}function ci(t){if(t=t[we]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Yi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xi(t){var n=t[Ps];return n||(n=t[Ps]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[Ki]=!0}var ks=new Set,Nr={};function an(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Nr[t]=n,t=0;t<n.length;t++)ks.add(n[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},qs={};function hu(t){return Dr.call(qs,t)?!0:Dr.call(Bs,t)?!1:Ac.test(t)?qs[t]=!0:(Bs[t]=!0,!1)}function $i(t,n,a){if(hu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Zi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function mn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function du(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sc(t){var n=du(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ka(t){t._valueTracker||(t._valueTracker=Sc(t))}function Hs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=du(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fi=/[\n"\\]/g;function ne(t){return t.replace(fi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ji(t,n,a,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ur(t,y,Ye(n)):a!=null?Ur(t,y,Ye(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Ba(t,n,a,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Ye(a):"",n=n!=null?""+Ye(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ur(t,n,a){n==="number"&&Mr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Lt(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ye(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function qa(t,n,a){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ye(a):""}function Wi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ye(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function js(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||bc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function mu(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&js(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&js(t,h,n[h])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return wc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function xr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,di=null;function mi(t){var n=ci(t);if(n&&(t=n.stateNode)){var a=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ji(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(s(90));Ji(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Hs(l)}break t;case"textarea":qa(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Lt(t,!!a.multiple,n,!1)}}}var Fs=!1;function gu(t,n,a){if(Fs)return t(n,a);Fs=!0;try{var l=t(n);return l}finally{if(Fs=!1,(hi!==null||di!==null)&&(so(),hi&&(n=hi,t=di,di=hi=null,mi(n),t)))for(n=0;n<t.length;n++)mi(t[n])}}function Ha(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ye]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var yn=!1;if(rn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){yn=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{yn=!1}var jn=null,ta=null,gi=null;function Qs(){if(gi)return gi;var t,n=ta,a=n.length,l,c="value"in jn?jn.value:jn.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[h-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Ks(){return!1}function De(t){function n(a,l,c,h,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Fn:Ks,this.isPropagationStopped=Ks,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=De(Bt),Ga=D({},Bt,{view:0,detail:0}),pu=De(Ga),zr,Pr,Qn,Fa=D({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(zr=t.screenX-Qn.screenX,Pr=t.screenY-Qn.screenY):Pr=zr=0,Qn=t),zr)},movementY:function(t){return"movementY"in t?t.movementY:Pr}}),_n=De(Fa),yu=D({},Fa,{dataTransfer:0}),Dc=De(yu),Qa=D({},Ga,{relatedTarget:0}),kr=De(Qa),Ys=D({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=De(Ys),_u=D({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qr=De(_u),Cc=D({},Bt,{data:0}),Xs=De(Cc),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $s(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function Ya(){return $s}var Tu=D({},Ga,{key:function(t){if(t.key){var n=Ka[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hr=De(Tu),Au=D({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=De(Au),pi=D({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Su=De(pi),bu=D({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=De(bu),wu=D({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jr=De(wu),Xe=D({},Bt,{newState:0,oldState:0}),Du=De(Xe),Cu=[9,13,27,32],Kn=rn&&"CompositionEvent"in window,o=null;rn&&"documentMode"in document&&(o=document.documentMode);var m=rn&&"TextEvent"in window&&!o,p=rn&&(!Kn||o&&8<o&&11>=o),T=" ",x=!1;function B(t,n){switch(t){case"keyup":return Cu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function _e(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Vt(t,n){if(It)return t==="compositionend"||!Kn&&B(t,n)?(t=Qs(),gi=ta=jn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function yi(t,n,a,l){hi?di?di.push(l):di=[l]:hi=l,n=fo(n,"onChange"),0<n.length&&(a=new Lr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Yn=null;function Js(t){mp(t,0)}function Iu(t){var n=Yi(t);if(Hs(n))return t}function jd(t,n){if(t==="change")return n}var Gd=!1;if(rn){var Ic;if(rn){var Vc="oninput"in document;if(!Vc){var Fd=document.createElement("div");Fd.setAttribute("oninput","return;"),Vc=typeof Fd.oninput=="function"}Ic=Vc}else Ic=!1;Gd=Ic&&(!document.documentMode||9<document.documentMode)}function Qd(){Me&&(Me.detachEvent("onpropertychange",Kd),Yn=Me=null)}function Kd(t){if(t.propertyName==="value"&&Iu(Yn)){var n=[];yi(n,Yn,t,xr(t)),gu(Js,n)}}function RE(t,n,a){t==="focusin"?(Qd(),Me=n,Yn=a,Me.attachEvent("onpropertychange",Kd)):t==="focusout"&&Qd()}function wE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Yn)}function DE(t,n){if(t==="click")return Iu(n)}function CE(t,n){if(t==="input"||t==="change")return Iu(n)}function IE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:IE;function Ws(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Dr.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,n){var a=Yd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Yd(a)}}function $d(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$d(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Mr(t.document)}return n}function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function VE(t,n){var a=Zd(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&$d(n.ownerDocument.documentElement,n)){if(l!==null&&Oc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!a.extend&&h>l&&(c=l,l=h,h=c),c=Xd(n,h);var y=Xd(n,l);c&&y&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),h>l?(a.addRange(t),a.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var OE=rn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Nc=null,tl=null,Mc=!1;function Jd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mc||Gr==null||Gr!==Mr(l)||(l=Gr,"selectionStart"in l&&Oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Ws(tl,l)||(tl=l,l=fo(Nc,"onSelect"),0<l.length&&(n=new Lr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Gr)))}function Xa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Fr={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Uc={},Wd={};rn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function $a(t){if(Uc[t])return Uc[t];if(!Fr[t])return t;var n=Fr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wd)return Uc[t]=n[a];return t}var tm=$a("animationend"),em=$a("animationiteration"),nm=$a("animationstart"),NE=$a("transitionrun"),ME=$a("transitionstart"),UE=$a("transitioncancel"),im=$a("transitionend"),am=new Map,rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(t,n){am.set(t,n),an(n,[t])}var vn=[],Qr=0,xc=0;function Vu(){for(var t=Qr,n=xc=Qr=0;n<t;){var a=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var h=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&sm(a,c,h)}}function Ou(t,n,a,l){vn[Qr++]=t,vn[Qr++]=n,vn[Qr++]=a,vn[Qr++]=l,xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lc(t,n,a,l){return Ou(t,n,a,l),Nu(t)}function ea(t,n){return Ou(t,null,null,n),Nu(t)}function sm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;c&&n!==null&&t.tag===3&&(h=t.stateNode,c=31-Ke(a),h=h.hiddenUpdates,t=h[c],t===null?h[c]=[n]:t.push(n),n.lane=a|536870912)}function Nu(t){if(50<Rl)throw Rl=0,jf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Kr={},lm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=lm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ft(n)},lm.set(t,n),n)}return{value:t,source:n,stack:ft(n)}}var Yr=[],Xr=0,Mu=null,Uu=0,Tn=[],An=0,Za=null,_i=1,vi="";function Ja(t,n){Yr[Xr++]=Uu,Yr[Xr++]=Mu,Mu=t,Uu=n}function um(t,n,a){Tn[An++]=_i,Tn[An++]=vi,Tn[An++]=Za,Za=t;var l=_i;t=vi;var c=32-Ke(l)-1;l&=~(1<<c),a+=1;var h=32-Ke(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,_i=1<<32-Ke(n)+c|a<<c|l,vi=h+t}else _i=1<<h|a<<c|l,vi=t}function zc(t){t.return!==null&&(Ja(t,1),um(t,1,0))}function Pc(t){for(;t===Mu;)Mu=Yr[--Xr],Yr[Xr]=null,Uu=Yr[--Xr],Yr[Xr]=null;for(;t===Za;)Za=Tn[--An],Tn[An]=null,vi=Tn[--An],Tn[An]=null,_i=Tn[--An],Tn[An]=null}var $e=null,Ue=null,zt=!1,Mn=null,Xn=!1,kc=Error(s(519));function Wa(t){var n=Error(s(418,""));throw il(En(n,t)),kc}function om(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ct(Dl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ba(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ka(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Wi(n,l.value,l.defaultValue,l.children),ka(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||_p(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=ho),n=!0):n=!1,n||Wa(t)}function cm(t){for($e=t.return;$e;)switch($e.tag){case 3:case 27:Xn=!0;return;case 5:case 13:Xn=!1;return;default:$e=$e.return}}function el(t){if(t!==$e)return!1;if(!zt)return cm(t),zt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||sh(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Ue&&Wa(t),cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Ue=xn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=$e?xn(t.stateNode.nextSibling):null;return!0}function nl(){Ue=$e=null,zt=!1}function il(t){Mn===null?Mn=[t]:Mn.push(t)}var al=Error(s(460)),fm=Error(s(474)),Bc={then:function(){}};function hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function dm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(xu,xu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===al?Error(s(483)):t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===al?Error(s(483)):t}throw rl=n,al}}var rl=null;function mm(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}var $r=null,sl=0;function Lu(t){var n=sl;return sl+=1,$r===null&&($r=[]),dm($r,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===f?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gm(t){var n=t._init;return n(t._payload)}function pm(t){function n(U,I){if(t){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function a(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=da(U,I),U.index=0,U.sibling=null,U}function h(U,I,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=33554434,I):z):(U.flags|=33554434,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,I,z,G){return I===null||I.tag!==6?(I=xf(z,U.mode,G),I.return=U,I):(I=c(I,z),I.return=U,I)}function S(U,I,z,G){var it=z.type;return it===_?j(U,I,z.props.children,G,z.key):I!==null&&(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&gm(it)===I.type)?(I=c(I,z.props),ll(I,z),I.return=U,I):(I=eo(z.type,z.key,z.props,null,U.mode,G),ll(I,z),I.return=U,I)}function V(U,I,z,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Lf(z,U.mode,G),I.return=U,I):(I=c(I,z.children||[]),I.return=U,I)}function j(U,I,z,G,it){return I===null||I.tag!==7?(I=or(z,U.mode,G,it),I.return=U,I):(I=c(I,z),I.return=U,I)}function Q(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=xf(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return z=eo(I.type,I.key,I.props,null,U.mode,z),ll(z,I),z.return=U,z;case g:return I=Lf(I,U.mode,z),I.return=U,I;case dt:var G=I._init;return I=G(I._payload),Q(U,I,z)}if(tt(I)||Ut(I))return I=or(I,U.mode,z,null),I.return=U,I;if(typeof I.then=="function")return Q(U,Lu(I),z);if(I.$$typeof===q)return Q(U,Ju(U,I),z);zu(U,I)}return null}function P(U,I,z,G){var it=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return it!==null?null:E(U,I,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===it?S(U,I,z,G):null;case g:return z.key===it?V(U,I,z,G):null;case dt:return it=z._init,z=it(z._payload),P(U,I,z,G)}if(tt(z)||Ut(z))return it!==null?null:j(U,I,z,G,null);if(typeof z.then=="function")return P(U,I,Lu(z),G);if(z.$$typeof===q)return P(U,I,Ju(U,z),G);zu(U,z)}return null}function H(U,I,z,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(z)||null,E(I,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?z:G.key)||null,S(I,U,G,it);case g:return U=U.get(G.key===null?z:G.key)||null,V(I,U,G,it);case dt:var bt=G._init;return G=bt(G._payload),H(U,I,z,G,it)}if(tt(G)||Ut(G))return U=U.get(z)||null,j(I,U,G,it,null);if(typeof G.then=="function")return H(U,I,z,Lu(G),it);if(G.$$typeof===q)return H(U,I,z,Ju(I,G),it);zu(I,G)}return null}function at(U,I,z,G){for(var it=null,bt=null,st=I,ct=I=0,Oe=null;st!==null&&ct<z.length;ct++){st.index>ct?(Oe=st,st=null):Oe=st.sibling;var Pt=P(U,st,z[ct],G);if(Pt===null){st===null&&(st=Oe);break}t&&st&&Pt.alternate===null&&n(U,st),I=h(Pt,I,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt,st=Oe}if(ct===z.length)return a(U,st),zt&&Ja(U,ct),it;if(st===null){for(;ct<z.length;ct++)st=Q(U,z[ct],G),st!==null&&(I=h(st,I,ct),bt===null?it=st:bt.sibling=st,bt=st);return zt&&Ja(U,ct),it}for(st=l(st);ct<z.length;ct++)Oe=H(st,U,ct,z[ct],G),Oe!==null&&(t&&Oe.alternate!==null&&st.delete(Oe.key===null?ct:Oe.key),I=h(Oe,I,ct),bt===null?it=Oe:bt.sibling=Oe,bt=Oe);return t&&st.forEach(function(Ea){return n(U,Ea)}),zt&&Ja(U,ct),it}function gt(U,I,z,G){if(z==null)throw Error(s(151));for(var it=null,bt=null,st=I,ct=I=0,Oe=null,Pt=z.next();st!==null&&!Pt.done;ct++,Pt=z.next()){st.index>ct?(Oe=st,st=null):Oe=st.sibling;var Ea=P(U,st,Pt.value,G);if(Ea===null){st===null&&(st=Oe);break}t&&st&&Ea.alternate===null&&n(U,st),I=h(Ea,I,ct),bt===null?it=Ea:bt.sibling=Ea,bt=Ea,st=Oe}if(Pt.done)return a(U,st),zt&&Ja(U,ct),it;if(st===null){for(;!Pt.done;ct++,Pt=z.next())Pt=Q(U,Pt.value,G),Pt!==null&&(I=h(Pt,I,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt);return zt&&Ja(U,ct),it}for(st=l(st);!Pt.done;ct++,Pt=z.next())Pt=H(st,U,ct,Pt.value,G),Pt!==null&&(t&&Pt.alternate!==null&&st.delete(Pt.key===null?ct:Pt.key),I=h(Pt,I,ct),bt===null?it=Pt:bt.sibling=Pt,bt=Pt);return t&&st.forEach(function(YT){return n(U,YT)}),zt&&Ja(U,ct),it}function re(U,I,z,G){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var it=z.key;I!==null;){if(I.key===it){if(it=z.type,it===_){if(I.tag===7){a(U,I.sibling),G=c(I,z.props.children),G.return=U,U=G;break t}}else if(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&gm(it)===I.type){a(U,I.sibling),G=c(I,z.props),ll(G,z),G.return=U,U=G;break t}a(U,I);break}else n(U,I);I=I.sibling}z.type===_?(G=or(z.props.children,U.mode,G,z.key),G.return=U,U=G):(G=eo(z.type,z.key,z.props,null,U.mode,G),ll(G,z),G.return=U,U=G)}return y(U);case g:t:{for(it=z.key;I!==null;){if(I.key===it)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(U,I.sibling),G=c(I,z.children||[]),G.return=U,U=G;break t}else{a(U,I);break}else n(U,I);I=I.sibling}G=Lf(z,U.mode,G),G.return=U,U=G}return y(U);case dt:return it=z._init,z=it(z._payload),re(U,I,z,G)}if(tt(z))return at(U,I,z,G);if(Ut(z)){if(it=Ut(z),typeof it!="function")throw Error(s(150));return z=it.call(z),gt(U,I,z,G)}if(typeof z.then=="function")return re(U,I,Lu(z),G);if(z.$$typeof===q)return re(U,I,Ju(U,z),G);zu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(U,I.sibling),G=c(I,z),G.return=U,U=G):(a(U,I),G=xf(z,U.mode,G),G.return=U,U=G),y(U)):a(U,I)}return function(U,I,z,G){try{sl=0;var it=re(U,I,z,G);return $r=null,it}catch(st){if(st===al)throw st;var bt=wn(29,st,null,U.mode);return bt.lanes=G,bt.return=U,bt}finally{}}}var tr=pm(!0),ym=pm(!1),Zr=xt(null),Pu=xt(0);function _m(t,n){t=Vi,Ht(Pu,t),Ht(Zr,n),Vi=t|n.baseLanes}function qc(){Ht(Pu,Vi),Ht(Zr,Zr.current)}function Hc(){Vi=Pu.current,ee(Zr),ee(Pu)}var Sn=xt(null),$n=null;function na(t){var n=t.alternate;Ht(Ee,Ee.current&1),Ht(Sn,t),$n===null&&(n===null||Zr.current!==null||n.memoizedState!==null)&&($n=t)}function vm(t){if(t.tag===22){if(Ht(Ee,Ee.current),Ht(Sn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else ia()}function ia(){Ht(Ee,Ee.current),Ht(Sn,Sn.current)}function Ei(t){ee(Sn),$n===t&&($n=null),ee(Ee)}var Ee=xt(0);function ku(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},LE=r.unstable_scheduleCallback,zE=r.unstable_NormalPriority,Te={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new xE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&LE(zE,function(){t.controller.abort()})}var ol=null,Gc=0,Jr=0,Wr=null;function PE(t,n){if(ol===null){var a=ol=[];Gc=0,Jr=Zf(),Wr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gc++,n.then(Em,Em),n}function Em(){if(--Gc===0&&ol!==null){Wr!==null&&(Wr.status="fulfilled");var t=ol;ol=null,Jr=0,Wr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Tm=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&PE(t,n),Tm!==null&&Tm(t,n)};var er=xt(null);function Fc(){var t=er.current;return t!==null?t:Yt.pooledCache}function Bu(t,n){n===null?Ht(er,er.current):Ht(er,n.pool)}function Am(){var t=Fc();return t===null?null:{parent:Te._currentValue,pool:t}}var aa=0,At=null,jt=null,fe=null,qu=!1,ts=!1,nr=!1,Hu=0,cl=0,es=null,BE=0;function le(){throw Error(s(321))}function Qc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!sn(t[a],n[a]))return!1;return!0}function Kc(t,n,a,l,c,h){return aa=h,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?ir:ra,nr=!1,h=a(l,c),nr=!1,ts&&(h=bm(n,a,l,c)),Sm(t),h}function Sm(t){A.H=Zn;var n=jt!==null&&jt.next!==null;if(aa=0,fe=jt=At=null,qu=!1,cl=0,es=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&Zu(t)&&(Ie=!0))}function bm(t,n,a,l){At=t;var c=0;do{if(ts&&(es=null),cl=0,ts=!1,25<=c)throw Error(s(301));if(c+=1,fe=jt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=ar,h=n(a,l)}while(ts);return h}function qE(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(At.flags|=1024),n}function Yc(){var t=Hu!==0;return Hu=0,t}function Xc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function $c(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}aa=0,fe=jt=At=null,ts=!1,cl=Hu=0,es=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?At.memoizedState=fe=t:fe=fe.next=t,fe}function he(){if(jt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=fe===null?At.memoizedState:fe.next;if(n!==null)fe=n,jt=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},fe===null?At.memoizedState=fe=t:fe=fe.next=t}return fe}var ju;ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fl(t){var n=cl;return cl+=1,es===null&&(es=[]),t=dm(es,t,n),n=At,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ir:ra),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===q)return qe(t)}throw Error(s(438,String(t)))}function Zc(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ju(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=Qt;return n.index++,a}function Ti(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=he();return Jc(n,jt,t)}function Jc(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,S=null,V=n,j=!1;do{var Q=V.lane&-536870913;if(Q!==V.lane?(Ot&Q)===Q:(aa&Q)===Q){var P=V.revertLane;if(P===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Q===Jr&&(j=!0);else if((aa&P)===P){V=V.next,P===Jr&&(j=!0);continue}else Q={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},S===null?(E=S=Q,y=h):S=S.next=Q,At.lanes|=P,ma|=P;Q=V.action,nr&&a(h,Q),h=V.hasEagerState?V.eagerState:a(h,Q)}else P={lane:Q,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},S===null?(E=S=P,y=h):S=S.next=P,At.lanes|=Q,ma|=Q;V=V.next}while(V!==null&&V!==n);if(S===null?y=h:S.next=E,!sn(h,t.memoizedState)&&(Ie=!0,j&&(a=Wr,a!==null)))throw a;t.memoizedState=h,t.baseState=y,t.baseQueue=S,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wc(t){var n=he(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);sn(h,n.memoizedState)||(Ie=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Rm(t,n,a){var l=At,c=he(),h=zt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!sn((jt||c).memoizedState,a);if(y&&(c.memoizedState=a,Ie=!0),c=c.queue,nf(Cm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,ns(9,Dm.bind(null,l,c,a,n),{destroy:void 0},null),Yt===null)throw Error(s(349));h||aa&60||wm(l,n,a)}return a}function wm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=ju(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Dm(t,n,a,l){n.value=a,n.getSnapshot=l,Im(n)&&Vm(t)}function Cm(t,n,a){return a(function(){Im(n)&&Vm(t)})}function Im(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!sn(t,a)}catch{return!0}}function Vm(t){var n=ea(t,2);n!==null&&Ze(n,t,2)}function tf(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),nr){Pn(!0);try{a()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},n}function Om(t,n,a,l){return t.baseState=a,Jc(t,jt,typeof l=="function"?l:Ti)}function HE(t,n,a,l,c){if(Yu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};A.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Nm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Nm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=A.T,y={};A.T=y;try{var E=a(c,l),S=A.S;S!==null&&S(y,E),Mm(t,n,E)}catch(V){ef(t,n,V)}finally{A.T=h}}else try{h=a(c,l),Mm(t,n,h)}catch(V){ef(t,n,V)}}function Mm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Um(t,n,l)},function(l){return ef(t,n,l)}):Um(t,n,a)}function Um(t,n,a){n.status="fulfilled",n.value=a,xm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Nm(t,a)))}function ef(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,xm(n),n=n.next;while(n!==l)}t.action=null}function xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lm(t,n){return n}function zm(t,n){if(zt){var a=Yt.formState;if(a!==null){t:{var l=At;if(zt){if(Ue){e:{for(var c=Ue,h=Xn;c.nodeType!==8;){if(!h){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ue=xn(c.nextSibling),l=c.data==="F!";break t}}Wa(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:n},a.queue=l,a=eg.bind(null,At,l),l.dispatch=a,l=tf(!1),h=uf.bind(null,At,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=HE.bind(null,At,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Pm(t){var n=he();return km(n,jt,t)}function km(t,n,a){n=Jc(t,n,Lm)[0],t=Fu(Ti)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?fl(n):n;var l=he(),c=l.queue,h=c.dispatch;return a!==l.memoizedState&&(At.flags|=2048,ns(9,jE.bind(null,c,a),{destroy:void 0},null)),[n,h,t]}function jE(t,n){t.action=n}function Bm(t){var n=he(),a=jt;if(a!==null)return km(n,a,t);he(),n=n.memoizedState,a=he();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ns(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=At.updateQueue,n===null&&(n=ju(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function qm(){return he().memoizedState}function Qu(t,n,a,l){var c=tn();At.flags|=t,c.memoizedState=ns(1|n,a,{destroy:void 0},l===void 0?null:l)}function Ku(t,n,a,l){var c=he();l=l===void 0?null:l;var h=c.memoizedState.inst;jt!==null&&l!==null&&Qc(l,jt.memoizedState.deps)?c.memoizedState=ns(n,a,h,l):(At.flags|=t,c.memoizedState=ns(1|n,a,h,l))}function Hm(t,n){Qu(8390656,8,t,n)}function nf(t,n){Ku(2048,8,t,n)}function jm(t,n){return Ku(4,2,t,n)}function Gm(t,n){return Ku(4,4,t,n)}function Fm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qm(t,n,a){a=a!=null?a.concat([t]):null,Ku(4,4,Fm.bind(null,n,t),a)}function af(){}function Km(t,n){var a=he();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Qc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Ym(t,n){var a=he();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Qc(n,l[1]))return l[0];if(l=t(),nr){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,n],l}function rf(t,n,a){return a===void 0||aa&1073741824?t.memoizedState=n:(t.memoizedState=a,t=$g(),At.lanes|=t,ma|=t,a)}function Xm(t,n,a,l){return sn(a,n)?a:Zr.current!==null?(t=rf(t,a,l),sn(t,n)||(Ie=!0),t):aa&42?(t=$g(),At.lanes|=t,ma|=t,n):(Ie=!0,t.memoizedState=a)}function $m(t,n,a,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=A.T,E={};A.T=E,uf(t,!1,n,a);try{var S=c(),V=A.S;if(V!==null&&V(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var j=kE(S,l);hl(t,n,j,cn(t))}else hl(t,n,l,cn(t))}catch(Q){hl(t,n,{then:function(){},status:"rejected",reason:Q},cn())}finally{et.p=h,A.T=y}}function GE(){}function sf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Zm(t).queue;$m(t,c,n,Tt,a===null?GE:function(){return Jm(t),a(l)})}function Zm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:Tt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jm(t){var n=Zm(t).next.queue;hl(t,n,{},cn())}function lf(){return qe(Nl)}function Wm(){return he().memoizedState}function tg(){return he().memoizedState}function FE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=ua(a);var l=oa(n,t,a);l!==null&&(Ze(l,n,a),gl(l,n,a)),n={cache:jc()},t.payload=n;return}n=n.return}}function QE(t,n,a){var l=cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?ng(n,a):(a=Lc(t,n,a,l),a!==null&&(Ze(a,t,l),ig(a,n,l)))}function eg(t,n,a){var l=cn();hl(t,n,a,l)}function hl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))ng(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,a);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Ou(t,n,c,0),Yt===null&&Vu(),!1}catch{}finally{}if(a=Lc(t,n,c,l),a!==null)return Ze(a,t,l),ig(a,n,l),!0}return!1}function uf(t,n,a,l){if(l={lane:2,revertLane:Zf(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(s(479))}else n=Lc(t,a,l,2),n!==null&&Ze(n,t,2)}function Yu(t){var n=t.alternate;return t===At||n!==null&&n===At}function ng(t,n){ts=qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ig(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fi(t,a)}}var Zn={readContext:qe,use:Gu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};Zn.useCacheRefresh=le,Zn.useMemoCache=le,Zn.useHostTransitionStatus=le,Zn.useFormState=le,Zn.useActionState=le,Zn.useOptimistic=le;var ir={readContext:qe,use:Gu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Hm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Qu(4194308,4,Fm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(nr){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(nr){Pn(!0);try{a(n)}finally{Pn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=QE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=tf(t);var n=t.queue,a=eg.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:af,useDeferredValue:function(t,n){var a=tn();return rf(a,t,n)},useTransition:function(){var t=tf(!1);return t=$m.bind(null,At,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=tn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Yt===null)throw Error(s(349));Ot&60||wm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Hm(Cm.bind(null,l,h,t),[t]),l.flags|=2048,ns(9,Dm.bind(null,l,h,a,n),{destroy:void 0},null),a},useId:function(){var t=tn(),n=Yt.identifierPrefix;if(zt){var a=vi,l=_i;a=(l&~(1<<32-Ke(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=BE++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=FE.bind(null,At)}};ir.useMemoCache=Zc,ir.useHostTransitionStatus=lf,ir.useFormState=zm,ir.useActionState=zm,ir.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=uf.bind(null,At,!0,a),a.dispatch=n,[t,n]};var ra={readContext:qe,use:Gu,useCallback:Km,useContext:qe,useEffect:nf,useImperativeHandle:Qm,useInsertionEffect:jm,useLayoutEffect:Gm,useMemo:Ym,useReducer:Fu,useRef:qm,useState:function(){return Fu(Ti)},useDebugValue:af,useDeferredValue:function(t,n){var a=he();return Xm(a,jt.memoizedState,t,n)},useTransition:function(){var t=Fu(Ti)[0],n=he().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Rm,useId:Wm};ra.useCacheRefresh=tg,ra.useMemoCache=Zc,ra.useHostTransitionStatus=lf,ra.useFormState=Pm,ra.useActionState=Pm,ra.useOptimistic=function(t,n){var a=he();return Om(a,jt,t,n)};var ar={readContext:qe,use:Gu,useCallback:Km,useContext:qe,useEffect:nf,useImperativeHandle:Qm,useInsertionEffect:jm,useLayoutEffect:Gm,useMemo:Ym,useReducer:Wc,useRef:qm,useState:function(){return Wc(Ti)},useDebugValue:af,useDeferredValue:function(t,n){var a=he();return jt===null?rf(a,t,n):Xm(a,jt.memoizedState,t,n)},useTransition:function(){var t=Wc(Ti)[0],n=he().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Rm,useId:Wm};ar.useCacheRefresh=tg,ar.useMemoCache=Zc,ar.useHostTransitionStatus=lf,ar.useFormState=Bm,ar.useActionState=Bm,ar.useOptimistic=function(t,n){var a=he();return jt!==null?Om(a,jt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function of(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cf={isMounted:function(t){return(t=t._reactInternals)?lt(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=cn(),c=ua(l);c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(Ze(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=cn(),c=ua(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(Ze(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=oa(t,l,a),n!==null&&(Ze(n,t,a),gl(n,t,a))}};function ag(t,n,a,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(a,l)||!Ws(c,h):!0}function rg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&cf.enqueueReplaceState(n,n.state,null)}function rr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=D({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sg(t){Xu(t)}function lg(t){console.error(t)}function ug(t){Xu(t)}function $u(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function og(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ff(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,n)},a}function cg(t){return t=ua(t),t.tag=3,t}function fg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){og(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){og(n,a,l),typeof c!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function KE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ml(n,a,c,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return $n===null?Qf():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Bc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Yf(t,l,c)),!1;case 22:return a.flags|=65536,l===Bc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Yf(t,l,c)),!1}throw Error(s(435,a.tag))}return Yf(t,l,c),Qf(),!1}if(zt)return n=Sn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==kc&&(t=Error(s(422),{cause:l}),il(En(t,a)))):(l!==kc&&(n=Error(s(423),{cause:l}),il(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=ff(t.stateNode,l,c),wf(t,c),ae!==4&&(ae=2)),!1;var h=Error(s(520),{cause:l});if(h=En(h,a),Sl===null?Sl=[h]:Sl.push(h),ae!==4&&(ae=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=ff(a.stateNode,l,t),wf(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ga===null||!ga.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=cg(c),fg(c,t,a,l),wf(a,c),!1}a=a.return}while(a!==null);return!1}var hg=Error(s(461)),Ie=!1;function xe(t,n,a,l){n.child=t===null?ym(n,null,a,l):tr(n,t.child,a,l)}function dg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return lr(n),l=Kc(t,n,a,y,h,c),E=Yc(),t!==null&&!Ie?(Xc(t,n,c),Ai(t,n,c)):(zt&&E&&zc(n),n.flags|=1,xe(t,n,l,c),n.child)}function mg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Uf(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,gg(t,n,h,l,c)):(t=eo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Ef(t,c)){var y=h.memoizedProps;if(a=a.compare,a=a!==null?a:Ws,a(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=da(h,l),t.ref=n.ref,t.return=n,n.child=t}function gg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(Ws(h,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=h,Ef(t,c))t.flags&131072&&(Ie=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return hf(t,n,a,l,c)}function pg(t,n,a){var l=n.pendingProps,c=l.children,h=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(dl(t,n),l.mode==="hidden"||h){if(n.flags&128){if(l=y!==null?y.baseLanes|a:a,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return yg(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,y!==null?y.cachePool:null),y!==null?_m(n,y):qc(),vm(n);else return n.lanes=n.childLanes=536870912,yg(t,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Bu(n,y.cachePool),_m(n,y),ia(),n.memoizedState=null):(t!==null&&Bu(n,null),qc(),ia());return xe(t,n,c,a),n.child}function yg(t,n,a,l){var c=Fc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Bu(n,null),qc(),vm(n),t!==null&&ml(t,n,l,!0),null}function dl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function hf(t,n,a,l,c){return lr(n),a=Kc(t,n,a,l,void 0,c),l=Yc(),t!==null&&!Ie?(Xc(t,n,c),Ai(t,n,c)):(zt&&l&&zc(n),n.flags|=1,xe(t,n,a,c),n.child)}function _g(t,n,a,l,c,h){return lr(n),n.updateQueue=null,a=bm(n,l,a,c),Sm(t),l=Yc(),t!==null&&!Ie?(Xc(t,n,h),Ai(t,n,h)):(zt&&l&&zc(n),n.flags|=1,xe(t,n,a,h),n.child)}function vg(t,n,a,l,c){if(lr(n),n.stateNode===null){var h=Kr,y=a.contextType;typeof y=="object"&&y!==null&&(h=qe(y)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=cf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},bf(n),y=a.contextType,h.context=typeof y=="object"&&y!==null?qe(y):Kr,h.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(of(n,a,y,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&cf.enqueueReplaceState(h,h.state,null),yl(n,l,h,c),pl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,S=rr(a,E);h.props=S;var V=h.context,j=a.contextType;y=Kr,typeof j=="object"&&j!==null&&(y=qe(j));var Q=a.getDerivedStateFromProps;j=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||V!==y)&&rg(n,h,l,y),la=!1;var P=n.memoizedState;h.state=P,yl(n,l,h,c),pl(),V=n.memoizedState,E||P!==V||la?(typeof Q=="function"&&(of(n,a,Q,l),V=n.memoizedState),(S=la||ag(n,a,S,l,P,V,y))?(j||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=V),h.props=l,h.state=V,h.context=y,l=S):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Rf(t,n),y=n.memoizedProps,j=rr(a,y),h.props=j,Q=n.pendingProps,P=h.context,V=a.contextType,S=Kr,typeof V=="object"&&V!==null&&(S=qe(V)),E=a.getDerivedStateFromProps,(V=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==Q||P!==S)&&rg(n,h,l,S),la=!1,P=n.memoizedState,h.state=P,yl(n,l,h,c),pl();var H=n.memoizedState;y!==Q||P!==H||la||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof E=="function"&&(of(n,a,E,l),H=n.memoizedState),(j=la||ag(n,a,j,l,P,H,S)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(V||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),h.props=l,h.state=H,h.context=S,l=j):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,dl(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=tr(n,t.child,null,c),n.child=tr(n,null,a,c)):xe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Ai(t,n,c),t}function Eg(t,n,a,l){return nl(),n.flags|=256,xe(t,n,a,l),n.child}var df={dehydrated:null,treeContext:null,retryLane:0};function mf(t){return{baseLanes:t,cachePool:Am()}}function gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function Tg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?na(n):ia(),zt){var E=Ue,S;if(S=E){t:{for(S=E,E=Xn;S.nodeType!==8;){if(!E){E=null;break t}if(S=xn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Za!==null?{id:_i,overflow:vi}:null,retryLane:536870912},S=wn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,$e=n,Ue=null,S=!0):S=!1}S||Wa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ei(n)}return E=l.children,l=l.fallback,c?(ia(),c=n.mode,E=yf({mode:"hidden",children:E},c),l=or(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=mf(a),c.childLanes=gf(t,y,a),n.memoizedState=df,l):(na(n),pf(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(h)n.flags&256?(na(n),n.flags&=-257,n=_f(t,n,a)):n.memoizedState!==null?(ia(),n.child=t.child,n.flags|=128,n=null):(ia(),c=l.fallback,E=n.mode,l=yf({mode:"visible",children:l.children},E),c=or(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,tr(n,t.child,null,a),l=n.child,l.memoizedState=mf(a),l.childLanes=gf(t,y,a),n.memoizedState=df,n=c);else if(na(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var V=y.dgst;y=V,l=Error(s(419)),l.stack="",l.digest=y,il({value:l,source:null,stack:null}),n=_f(t,n,a)}else if(Ie||ml(t,n,a,!1),y=(a&t.childLanes)!==0,Ie||y){if(y=Yt,y!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|a)?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,ea(t,l),Ze(y,t,l),hg}E.data==="$?"||Qf(),n=_f(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=uT.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Ue=xn(E.nextSibling),$e=n,zt=!0,Mn=null,Xn=!1,t!==null&&(Tn[An++]=_i,Tn[An++]=vi,Tn[An++]=Za,_i=t.id,vi=t.overflow,Za=n),n=pf(n,l.children),n.flags|=4096);return n}return c?(ia(),c=l.fallback,E=n.mode,S=t.child,V=S.sibling,l=da(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,V!==null?c=da(V,c):(c=or(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=mf(a):(S=E.cachePool,S!==null?(V=Te._currentValue,S=S.parent!==V?{parent:V,pool:V}:S):S=Am(),E={baseLanes:E.baseLanes|a,cachePool:S}),c.memoizedState=E,c.childLanes=gf(t,y,a),n.memoizedState=df,l):(na(n),a=t.child,t=a.sibling,a=da(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function pf(t,n){return n=yf({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yf(t,n){return Kg(t,n,0,null)}function _f(t,n,a){return tr(n,t.child,null,a),t=pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ag(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Af(t.return,n,a)}function vf(t,n,a,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=c)}function Sg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(xe(t,n,l.children,a),l=Ee.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,a,n);else if(t.tag===19)Ag(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ht(Ee,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&ku(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),vf(n,!1,c,a,h);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ku(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}vf(n,!0,a,null,h);break;case"together":vf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ma|=n.lanes,!(a&n.childLanes))if(t!==null){if(ml(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=da(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=da(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ef(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function YE(t,n,a){switch(n.tag){case 3:ki(n,n.stateNode.containerInfo),sa(n,Te,t.memoizedState.cache),nl();break;case 27:case 5:Ns(n);break;case 4:ki(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(na(n),n.flags|=128,null):a&n.child.childLanes?Tg(t,n,a):(na(n),t=Ai(t,n,a),t!==null?t.sibling:null);na(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ml(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Sg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ht(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,pg(t,n,a);case 24:sa(n,Te,t.memoizedState.cache)}return Ai(t,n,a)}function bg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Ef(t,a)&&!(n.flags&128))return Ie=!1,YE(t,n,a);Ie=!!(t.flags&131072)}else Ie=!1,zt&&n.flags&1048576&&um(n,Uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Uf(l)?(t=rr(l,t),n.tag=1,n=vg(null,n,l,t,a)):(n.tag=0,n=hf(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Z){n.tag=11,n=dg(null,n,l,t,a);break t}else if(c===St){n.tag=14,n=mg(null,n,l,t,a);break t}}throw n=R(l)||l,Error(s(306,n,""))}}return n;case 0:return hf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=rr(l,n.pendingProps),vg(t,n,l,c,a);case 3:t:{if(ki(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var h=n.pendingProps;c=n.memoizedState,l=c.element,Rf(t,n),yl(n,h,null,a);var y=n.memoizedState;if(h=y.cache,sa(n,Te,h),h!==c.cache&&Sf(n,[Te],a,!0),pl(),h=y.element,c.isDehydrated)if(c={element:h,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Eg(t,n,h,a);break t}else if(h!==l){l=En(Error(s(424)),n),il(l),n=Eg(t,n,h,a);break t}else for(Ue=xn(n.stateNode.containerInfo.firstChild),$e=n,zt=!0,Mn=null,Xn=!0,a=ym(n,null,h,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(nl(),h===l){n=Ai(t,n,a);break t}xe(t,n,h,a)}n=n.child}return n;case 26:return dl(t,n),t===null?(a=Dp(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=mo(hn.current).createElement(a),l[we]=n,l[ye]=t,Le(l,a,t),Zt(l),n.stateNode=l):n.memoizedState=Dp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ns(n),t===null&&zt&&(l=n.stateNode=bp(n.type,n.pendingProps,hn.current),$e=n,Xn=!0,Ue=xn(l.firstChild)),l=n.pendingProps.children,t!==null||zt?xe(t,n,l,a):n.child=tr(n,null,l,a),dl(t,n),n.child;case 5:return t===null&&zt&&((c=l=Ue)&&(l=bT(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,$e=n,Ue=xn(l.firstChild),Xn=!1,c=!0):c=!1),c||Wa(n)),Ns(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,sh(c,h)?l=null:y!==null&&sh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Kc(t,n,qE,null,null,a),Nl._currentValue=c),dl(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=Ue)&&(a=RT(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,$e=n,Ue=null,t=!0):t=!1),t||Wa(n)),null;case 13:return Tg(t,n,a);case 4:return ki(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=tr(n,null,l,a):xe(t,n,l,a),n.child;case 11:return dg(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,lr(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return mg(t,n,n.type,n.pendingProps,a);case 15:return gg(t,n,n.type,n.pendingProps,a);case 19:return Sg(t,n,a);case 22:return pg(t,n,a);case 24:return lr(n),l=qe(Te),t===null?(c=Fc(),c===null&&(c=Yt,h=jc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},bf(n),sa(n,Te,c)):(t.lanes&a&&(Rf(t,n),yl(n,null,null,a),pl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,Te,l)):(l=h.cache,sa(n,Te,l),l!==c.cache&&Sf(n,[Te],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Tf=xt(null),sr=null,Si=null;function sa(t,n,a){Ht(Tf,n._currentValue),n._currentValue=a}function bi(t){t._currentValue=Tf.current,ee(Tf)}function Af(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Sf(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Af(h.return,a,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,h=y.alternate,h!==null&&(h.lanes|=a),Af(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ml(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if(c.flags&524288)h=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Pi.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Sf(n,t,a,l),n.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){sr=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Rg(sr,t)}function Ju(t,n){return sr===null&&lr(t),Rg(t,n)}function Rg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Si===null){if(t===null)throw Error(s(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return a}var la=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Wt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Nu(t),sm(t,null,a),n}return Ou(t,l,n,a),Nu(t)}function gl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fi(t,a)}}function wf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Df=!1;function pl(){if(Df){var t=Wr;if(t!==null)throw t}}function yl(t,n,a,l){Df=!1;var c=t.updateQueue;la=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,V=S.next;S.next=null,y===null?h=V:y.next=V,y=S;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=V:E.next=V,j.lastBaseUpdate=S))}if(h!==null){var Q=c.baseState;y=0,j=V=S=null,E=h;do{var P=E.lane&-536870913,H=P!==E.lane;if(H?(Ot&P)===P:(l&P)===P){P!==0&&P===Jr&&(Df=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,gt=E;P=n;var re=a;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Q=at.call(re,Q,P);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,P=typeof at=="function"?at.call(re,Q,P):at,P==null)break t;Q=D({},Q,P);break t;case 2:la=!0}}P=E.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[P]:H.push(P))}else H={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(V=j=H,S=Q):j=j.next=H,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);j===null&&(S=Q),c.baseState=S,c.firstBaseUpdate=V,c.lastBaseUpdate=j,h===null&&(c.shared.lanes=0),ma|=y,t.lanes=y,t.memoizedState=Q}}function wg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Dg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wg(a[t],n)}function _l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,y=a.inst;l=h(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function ca(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=a;try{E()}catch(V){Kt(c,S,V)}}}l=l.next}while(l!==h)}}catch(V){Kt(n,n.return,V)}}function Cg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Dg(n,a)}catch(l){Kt(t,t.return,l)}}}function Ig(t,n,a){a.props=rr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function ur(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(h){Kt(t,n,h)}}function ln(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function Vg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Og(t,n,a){try{var l=t.stateNode;vT(l,t.type,a,n),l[ye]=n}catch(c){Kt(t,t.return,c)}}function Ng(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Cf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ho));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(If(t,n,a),t=t.sibling;t!==null;)If(t,n,a),t=t.sibling}function Wu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Wu(t,n,a),t=t.sibling;t!==null;)Wu(t,n,a),t=t.sibling}var Ri=!1,ie=!1,Vf=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,Ve=null,Ug=!1;function XE(t,n){if(t=t.containerInfo,ah=Eo,t=Zd(t),Oc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var y=0,E=-1,S=-1,V=0,j=0,Q=t,P=null;e:for(;;){for(var H;Q!==a||c!==0&&Q.nodeType!==3||(E=y+c),Q!==h||l!==0&&Q.nodeType!==3||(S=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(H=Q.firstChild)!==null;)P=Q,Q=H;for(;;){if(Q===t)break e;if(P===a&&++V===c&&(E=y),P===h&&++j===l&&(S=y),(H=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=H}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(rh={focusedElem:t,selectionRange:a},Eo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var at=rr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(at,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Kt(a,a.return,gt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)oh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":oh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return at=Ug,Ug=!1,at}function xg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Di(t,a),l&4&&_l(5,a);break;case 1:if(Di(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Kt(a,a.return,E)}else{var c=rr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Kt(a,a.return,E)}}l&64&&Cg(a),l&512&&ur(a,a.return);break;case 3:if(Di(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Dg(l,t)}catch(E){Kt(a,a.return,E)}}break;case 26:Di(t,a),l&512&&ur(a,a.return);break;case 27:case 5:Di(t,a),n===null&&l&4&&Vg(a),l&512&&ur(a,a.return);break;case 12:Di(t,a);break;case 13:Di(t,a),l&4&&Pg(t,a);break;case 22:if(c=a.memoizedState!==null||Ri,!c){n=n!==null&&n.memoizedState!==null||ie;var h=Ri,y=ie;Ri=c,(ie=n)&&!y?fa(t,a,(a.subtreeFlags&8772)!==0):Di(t,a),Ri=h,ie=y}l&512&&(a.memoizedProps.mode==="manual"?ur(a,a.return):ln(a,a.return));break;default:Di(t,a)}}function Lg(t){var n=t.alternate;n!==null&&(t.alternate=null,Lg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,un=!1;function wi(t,n,a){for(a=a.child;a!==null;)zg(t,n,a),a=a.sibling}function zg(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Bi,a)}catch{}switch(a.tag){case 26:ie||ln(a,n),wi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ie||ln(a,n);var l=de,c=un;for(de=a.stateNode,wi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Pa(a),de=l,un=c;break;case 5:ie||ln(a,n);case 6:c=de;var h=un;if(de=null,wi(t,n,a),de=c,un=h,de!==null)if(un)try{t=de,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Kt(a,n,y)}else try{de.removeChild(a.stateNode)}catch(y){Kt(a,n,y)}break;case 18:de!==null&&(un?(n=de,a=a.stateNode,n.nodeType===8?uh(n.parentNode,a):n.nodeType===1&&uh(n,a),Ll(n)):uh(de,a.stateNode));break;case 4:l=de,c=un,de=a.stateNode.containerInfo,un=!0,wi(t,n,a),de=l,un=c;break;case 0:case 11:case 14:case 15:ie||ca(2,a,n),ie||ca(4,a,n),wi(t,n,a);break;case 1:ie||(ln(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ig(a,n,l)),wi(t,n,a);break;case 21:wi(t,n,a);break;case 22:ie||ln(a,n),ie=(l=ie)||a.memoizedState!==null,wi(t,n,a),ie=l;break;default:wi(t,n,a)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){Kt(n,n.return,a)}}function $E(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Mg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Mg),n;default:throw Error(s(435,t.tag))}}function Of(t,n){var a=$E(t);n.forEach(function(l){var c=oT.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function bn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,un=!1;break t;case 3:de=E.stateNode.containerInfo,un=!0;break t;case 4:de=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(de===null)throw Error(s(160));zg(h,y,c),de=null,un=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)kg(n,t),n=n.sibling}var Un=null;function kg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(ca(3,t,t.return),_l(3,t),ca(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(ie||a===null||ln(a,a.return)),l&64&&Ri&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Un;if(bn(n,t),Rn(t),l&512&&(ie||a===null||ln(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ki]||h[we]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Le(h,l,a),h[we]=t,Zt(h),l=h;break t;case"link":var y=Vp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(a.href==null?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,a),c.head.appendChild(h);break;case"meta":if(y=Vp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[we]=t,Zt(h),l=h}t.stateNode=l}else Op(c,t.type,t.stateNode);else t.stateNode=Ip(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Op(c,t.type,t.stateNode):Ip(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Og(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,h=t.memoizedProps;try{for(var S=c.firstChild;S;){var V=S.nextSibling,j=S.nodeName;S[Ki]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=V}for(var Q=t.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);Le(c,Q,h),c[we]=t,c[ye]=h}catch(at){Kt(t,t.return,at)}}case 5:if(bn(n,t),Rn(t),l&512&&(ie||a===null||ln(a,a.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(at){Kt(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Og(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Vf=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(at){Kt(t,t.return,at)}}break;case 3:if(yo=null,c=Un,Un=go(n.containerInfo),bn(n,t),Un=c,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(at){Kt(t,t.return,at)}Vf&&(Vf=!1,Bg(t));break;case 4:l=Un,Un=go(t.stateNode.containerInfo),bn(n,t),Rn(t),Un=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bf=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Of(t,l)));break;case 22:if(l&512&&(ie||a===null||ln(a,a.return)),S=t.memoizedState!==null,V=a!==null&&a.memoizedState!==null,j=Ri,Q=ie,Ri=j||S,ie=Q||V,bn(n,t),ie=Q,Ri=j,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Ri||ie,a===null||V||n||is(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){V=a=n;try{if(c=V.stateNode,S)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=V.stateNode,E=V.memoizedProps.style;var H=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(at){Kt(V,V.return,at)}}}else if(n.tag===6){if(a===null){V=n;try{V.stateNode.nodeValue=S?"":V.memoizedProps}catch(at){Kt(V,V.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Of(t,a))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Of(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(Ng(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,h=Cf(t);Wu(t,h,c);break;case 5:var y=l.stateNode;l.flags&32&&(gn(y,""),l.flags&=-33);var E=Cf(t);Wu(t,E,y);break;case 3:case 4:var S=l.stateNode.containerInfo,V=Cf(t);If(t,V,S);break;default:throw Error(s(161))}}}catch(j){Kt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Bg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Di(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xg(t,n.alternate,n),n=n.sibling}function is(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),is(n);break;case 1:ln(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ig(n,n.return,a),is(n);break;case 26:case 27:case 5:ln(n,n.return),is(n);break;case 22:ln(n,n.return),n.memoizedState===null&&is(n);break;default:is(n)}t=t.sibling}}function fa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:fa(c,h,a),_l(4,h);break;case 1:if(fa(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(V){Kt(l,l.return,V)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)wg(S[c],E)}catch(V){Kt(l,l.return,V)}}a&&y&64&&Cg(h),ur(h,h.return);break;case 26:case 27:case 5:fa(c,h,a),a&&l===null&&y&4&&Vg(h),ur(h,h.return);break;case 12:fa(c,h,a);break;case 13:fa(c,h,a),a&&y&4&&Pg(c,h);break;case 22:h.memoizedState===null&&fa(c,h,a),ur(h,h.return);break;default:fa(c,h,a)}n=n.sibling}}function Nf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Mf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function ha(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qg(t,n,a,l),n=n.sibling}function qg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ha(t,n,a,l),c&2048&&_l(9,n);break;case 3:ha(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){ha(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Kt(n,n.return,S)}}else ha(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?ha(t,n,a,l):vl(t,n):h._visibility&4?ha(t,n,a,l):(h._visibility|=4,as(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Nf(n.alternate,n);break;case 24:ha(t,n,a,l),c&2048&&Mf(n.alternate,n);break;default:ha(t,n,a,l)}}function as(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=a,S=l,V=y.flags;switch(y.tag){case 0:case 11:case 15:as(h,y,E,S,c),_l(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&4?as(h,y,E,S,c):vl(h,y):(j._visibility|=4,as(h,y,E,S,c)),c&&V&2048&&Nf(y.alternate,y);break;case 24:as(h,y,E,S,c),c&&V&2048&&Mf(y.alternate,y);break;default:as(h,y,E,S,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:vl(a,l),c&2048&&Nf(l.alternate,l);break;case 24:vl(a,l),c&2048&&Mf(l.alternate,l);break;default:vl(a,l)}n=n.sibling}}var El=8192;function rs(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Hg(t),t=t.sibling}function Hg(t){switch(t.tag){case 26:rs(t),t.flags&El&&t.memoizedState!==null&&PT(Un,t.memoizedState,t.memoizedProps);break;case 5:rs(t);break;case 3:case 4:var n=Un;Un=go(t.stateNode.containerInfo),rs(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,rs(t),El=n):rs(t));break;default:rs(t)}}function jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,Fg(l,t)}jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&ca(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,to(t)):Tl(t);break;default:Tl(t)}}function to(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,Fg(l,t)}jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ca(8,n,n.return),to(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,to(n));break;default:to(n)}t=t.sibling}}function Fg(t,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=t;Ve!==null;){l=Ve;var c=l.sibling,h=l.return;if(Lg(l),l===a){Ve=null;break t}if(c!==null){c.return=h,Ve=c;break t}Ve=h}}}function ZE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,a,l){return new ZE(t,n,a,l)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function da(t,n){var a=t.alternate;return a===null?(a=wn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qg(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eo(t,n,a,l,c,h){var y=0;if(l=t,typeof t=="function")Uf(t)&&(y=1);else if(typeof t=="string")y=LT(t,a,Qe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return or(a.children,c,h,n);case v:y=8,c|=24;break;case b:return t=wn(12,a,n,c|2),t.elementType=b,t.lanes=h,t;case W:return t=wn(13,a,n,c),t.elementType=W,t.lanes=h,t;case X:return t=wn(19,a,n,c),t.elementType=X,t.lanes=h,t;case Et:return Kg(a,c,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case q:y=10;break t;case k:y=9;break t;case Z:y=11;break t;case St:y=14;break t;case dt:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=wn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function or(t,n,a,l){return t=wn(7,t,l,n),t.lanes=a,t}function Kg(t,n,a,l){t=wn(22,t,l,n),t.elementType=Et,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=c._current;if(h===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var y=ea(h,2);y!==null&&(c._pendingVisibility|=2,Ze(y,h,2))}},attach:function(){var h=c._current;if(h===null)throw Error(s(456));if(c._pendingVisibility&2){var y=ea(h,2);y!==null&&(c._pendingVisibility&=-3,Ze(y,h,2))}}};return t.stateNode=c,t}function xf(t,n,a){return t=wn(6,t,null,n),t.lanes=a,t}function Lf(t,n,a){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ci(t){t.flags|=4}function Yg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Np(n)){if(n=Sn.current,n!==null&&((Ot&4194176)===Ot?$n!==null:(Ot&62914560)!==Ot&&!(Ot&536870912)||n!==$n))throw rl=Bc,fm;t.flags|=8192}}function no(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,ls|=n)}function Al(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function JE(t,n,a){var l=n.pendingProps;switch(Pc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Te),li(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Gf(Mn),Mn=null))),Jt(n),null;case 26:return a=n.memoizedState,t===null?(Ci(n),a!==null?(Jt(n),Yg(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ci(n),Jt(n),Yg(n,a)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),Jt(n),n.flags&=-16777217),null;case 27:wr(n),a=hn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}t=Qe.current,el(n)?om(n):(t=bp(c,l,a),n.stateNode=t,Ci(n))}return Jt(n),null;case 5:if(wr(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(t=Qe.current,el(n))om(n);else{switch(c=mo(hn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=hn.current,el(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_p(t.nodeValue,a)),t||Wa(n)}else t=mo(t).createTextNode(l),t[we]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[we]=n}else nl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Mn!==null&&(Gf(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(Ei(n),n):(Ei(n),null)}if(Ei(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),no(n,n.updateQueue),Jt(n),null;case 4:return li(),t===null&&eh(n.stateNode.containerInfo),Jt(n),null;case 10:return bi(n.type),Jt(n),null;case 19:if(ee(Ee),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)Al(c,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(h=ku(t),h!==null){for(n.flags|=128,Al(c,!1),t=h.updateQueue,n.updateQueue=t,no(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Qg(a,t),a=a.sibling;return Ht(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>io&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=ku(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,no(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!zt)return Jt(n),null}else 2*Je()-c.renderingStartTime>io&&a!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ee.current,Ht(Ee,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return Ei(n),Hc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&no(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ee(er),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),bi(Te),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function WE(t,n){switch(Pc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Te),li(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return wr(n),null;case 13:if(Ei(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(Ee),null;case 4:return li(),null;case 10:return bi(n.type),null;case 22:case 23:return Ei(n),Hc(),t!==null&&ee(er),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Te),null;case 25:return null;default:return null}}function Xg(t,n){switch(Pc(n),n.tag){case 3:bi(Te),li();break;case 26:case 27:case 5:wr(n);break;case 4:li();break;case 13:Ei(n);break;case 19:ee(Ee);break;case 10:bi(n.type);break;case 22:case 23:Ei(n),Hc(),t!==null&&ee(er);break;case 24:bi(Te)}}var tT={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},eT=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Yt=null,Rt=null,Ot=0,Xt=0,on=null,Ii=!1,ss=!1,zf=!1,Vi=0,ae=0,ma=0,cr=0,Pf=0,Dn=0,ls=0,Sl=null,Jn=null,kf=!1,Bf=0,io=1/0,ao=null,ga=null,ro=!1,fr=null,bl=0,qf=0,Hf=null,Rl=0,jf=null;function cn(){if(Wt&2&&Ot!==0)return Ot&-Ot;if(A.T!==null){var t=Jr;return t!==0?t:Zf()}return fu()}function $g(){Dn===0&&(Dn=!(Ot&536870912)||zt?zs():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Dn}function Ze(t,n,a){(t===Yt&&Xt===2||t.cancelPendingCommit!==null)&&(us(t,0),Oi(t,Ot,Dn,!1)),se(t,a),(!(Wt&2)||t!==Yt)&&(t===Yt&&(!(Wt&2)&&(cr|=a),ae===4&&Oi(t,Ot,Dn,!1)),Wn(t))}function Zg(t,n,a){if(Wt&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Hi(t,n),c=l?aT(t,n):Kf(t,n,!0),h=l;do{if(c===0){ss&&!l&&Oi(t,n,0,!1);break}else if(c===6)Oi(t,n,0,!Ii);else{if(a=t.current.alternate,h&&!nT(a)){c=Kf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var S=E.current.memoizedState.isDehydrated;if(S&&(us(E,y).flags|=256),y=Kf(E,y,!1),y!==2){if(zf&&!S){E.errorRecoveryDisabledLanes|=h,cr|=h,c=4;break t}h=Jn,Jn=c,h!==null&&Gf(h)}c=y}if(h=!1,c!==2)continue}}if(c===1){us(t,0),Oi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Oi(l,n,Dn,!Ii);break t}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(h=Bf+300-Je(),10<h)){if(Oi(l,n,Dn,!Ii),dn(l,0)!==0)break t;l.timeoutHandle=Tp(Jg.bind(null,l,a,Jn,ao,kf,n,Dn,cr,ls,Ii,2,-0,0),h);break t}Jg(l,a,Jn,ao,kf,n,Dn,cr,ls,Ii,0,-0,0)}}break}while(!0);Wn(t)}function Gf(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function Jg(t,n,a,l,c,h,y,E,S,V,j,Q,P){var H=n.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:zT},Hg(n),n=kT(),n!==null)){t.cancelPendingCommit=n(rp.bind(null,t,a,l,c,y,E,S,1,Q,P)),Oi(t,h,y,!V);return}rp(t,a,l,c,y,E,S,j,Q,P)}function nT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!sn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oi(t,n,a,l){n&=~Pf,n&=~cr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Ke(c),y=1<<h;l[h]=-1,c&=~y}a!==0&&Gi(t,a,n)}function so(){return Wt&6?!0:(wl(0),!1)}function Ff(){if(Rt!==null){if(Xt===0)var t=Rt.return;else t=Rt,Si=sr=null,$c(t),$r=null,sl=0,t=Rt;for(;t!==null;)Xg(t.alternate,t),t=t.return;Rt=null}}function us(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,TT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ff(),Yt=t,Rt=a=da(t.current,null),Ot=n,Xt=0,on=null,Ii=!1,ss=Hi(t,n),zf=!1,ls=Dn=Pf=cr=ma=ae=0,Jn=Sl=null,kf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),h=1<<c;n|=t[c],l&=~h}return Vi=n,Vu(),a}function Wg(t,n){At=null,A.H=Zn,n===al?(n=mm(),Xt=3):n===fm?(n=mm(),Xt=4):Xt=n===hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Rt===null&&(ae=1,$u(t,En(n,t.current)))}function tp(){var t=A.H;return A.H=Zn,t===null?Zn:t}function ep(){var t=A.A;return A.A=tT,t}function Qf(){ae=4,Ii||(Ot&4194176)!==Ot&&Sn.current!==null||(ss=!0),!(ma&134217727)&&!(cr&134217727)||Yt===null||Oi(Yt,Ot,Dn,!1)}function Kf(t,n,a){var l=Wt;Wt|=2;var c=tp(),h=ep();(Yt!==t||Ot!==n)&&(ao=null,us(t,n)),n=!1;var y=ae;t:do try{if(Xt!==0&&Rt!==null){var E=Rt,S=on;switch(Xt){case 8:Ff(),y=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var V=Xt;if(Xt=0,on=null,os(t,E,S,V),a&&ss){y=0;break t}break;default:V=Xt,Xt=0,on=null,os(t,E,S,V)}}iT(),y=ae;break}catch(j){Wg(t,j)}while(!0);return n&&t.shellSuspendCounter++,Si=sr=null,Wt=l,A.H=c,A.A=h,Rt===null&&(Yt=null,Ot=0,Vu()),y}function iT(){for(;Rt!==null;)np(Rt)}function aT(t,n){var a=Wt;Wt|=2;var l=tp(),c=ep();Yt!==t||Ot!==n?(ao=null,io=Je()+500,us(t,n)):ss=Hi(t,n);t:do try{if(Xt!==0&&Rt!==null){n=Rt;var h=on;e:switch(Xt){case 1:Xt=0,on=null,os(t,n,h,1);break;case 2:if(hm(h)){Xt=0,on=null,ip(n);break}n=function(){Xt===2&&Yt===t&&(Xt=7),Wn(t)},h.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:hm(h)?(Xt=0,on=null,ip(n)):(Xt=0,on=null,os(t,n,h,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Np(y)){Xt=0,on=null;var S=E.sibling;if(S!==null)Rt=S;else{var V=E.return;V!==null?(Rt=V,lo(V)):Rt=null}break e}}Xt=0,on=null,os(t,n,h,5);break;case 6:Xt=0,on=null,os(t,n,h,6);break;case 8:Ff(),ae=6;break t;default:throw Error(s(462))}}rT();break}catch(j){Wg(t,j)}while(!0);return Si=sr=null,A.H=l,A.A=c,Wt=a,Rt!==null?0:(Yt=null,Ot=0,Vu(),ae)}function rT(){for(;Rt!==null&&!Ec();)np(Rt)}function np(t){var n=bg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?lo(t):Rt=n}function ip(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=_g(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=_g(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:$c(n);default:Xg(a,n),n=Rt=Qg(n,Vi),n=bg(a,n,Vi)}t.memoizedProps=t.pendingProps,n===null?lo(t):Rt=n}function os(t,n,a,l){Si=sr=null,$c(n),$r=null,sl=0;var c=n.return;try{if(KE(t,c,n,a,Ot)){ae=1,$u(t,En(a,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;ae=1,$u(t,En(a,t.current)),Rt=null;return}n.flags&32768?(zt||l===1?t=!0:ss||Ot&536870912?t=!1:(Ii=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ap(n,t)):lo(n)}function lo(t){var n=t;do{if(n.flags&32768){ap(n,Ii);return}t=n.return;var a=JE(n.alternate,n,Vi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ae===0&&(ae=5)}function ap(t,n){do{var a=WE(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);ae=6,Rt=null}function rp(t,n,a,l,c,h,y,E,S,V){var j=A.T,Q=et.p;try{et.p=2,A.T=null,sT(t,n,a,l,Q,c,h,y,E,S,V)}finally{A.T=j,et.p=Q}}function sT(t,n,a,l,c,h,y,E){do cs();while(fr!==null);if(Wt&6)throw Error(s(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var V=S.lanes|S.childLanes;if(V|=xc,ou(t,l,V,h,y,E),t===Yt&&(Rt=Yt=null,Ot=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||ro||(ro=!0,qf=V,Hf=a,cT(ui,function(){return cs(),null})),a=(S.flags&15990)!==0,S.subtreeFlags&15990||a?(a=A.T,A.T=null,h=et.p,et.p=2,y=Wt,Wt|=4,XE(t,S),kg(S,t),VE(rh,t.containerInfo),Eo=!!ah,rh=ah=null,t.current=S,xg(t,S.alternate,S),Ms(),Wt=y,et.p=h,A.T=a):t.current=S,ro?(ro=!1,fr=t,bl=l):sp(t,V),V=t.pendingLanes,V===0&&(ga=null),xs(S.stateNode),Wn(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)V=n[S],c(V.value,{componentStack:V.stack});return bl&3&&cs(),V=t.pendingLanes,l&4194218&&V&42?t===jf?Rl++:(Rl=0,jf=t):Rl=0,wl(0),null}function sp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function cs(){if(fr!==null){var t=fr,n=qf;qf=0;var a=cu(bl),l=A.T,c=et.p;try{if(et.p=32>a?32:a,A.T=null,fr===null)var h=!1;else{a=Hf,Hf=null;var y=fr,E=bl;if(fr=null,bl=0,Wt&6)throw Error(s(331));var S=Wt;if(Wt|=4,Gg(y.current),qg(y,y.current,E,a),Wt=S,wl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Bi,y)}catch{}h=!0}return h}finally{et.p=c,A.T=l,sp(t,n)}}return!1}function lp(t,n,a){n=En(a,n),n=ff(t.stateNode,n,2),t=oa(t,n,2),t!==null&&(se(t,2),Wn(t))}function Kt(t,n,a){if(t.tag===3)lp(t,t,a);else for(;n!==null;){if(n.tag===3){lp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=En(a,t),a=cg(2),l=oa(n,a,2),l!==null&&(fg(a,l,n,t),se(l,2),Wn(l));break}}n=n.return}}function Yf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new eT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(zf=!0,c.add(a),t=lT.bind(null,t,n,a),n.then(t,t))}function lT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Yt===t&&(Ot&a)===a&&(ae===4||ae===3&&(Ot&62914560)===Ot&&300>Je()-Bf?!(Wt&2)&&us(t,0):Pf|=a,ls===Ot&&(ls=0)),Wn(t)}function up(t,n){n===0&&(n=ji()),t=ea(t,n),t!==null&&(se(t,n),Wn(t))}function uT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),up(t,a)}function oT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),up(t,a)}function cT(t,n){return xa(t,n)}var uo=null,fs=null,Xf=!1,oo=!1,$f=!1,hr=0;function Wn(t){t!==fs&&t.next===null&&(fs===null?uo=fs=t:fs=fs.next=t),oo=!0,Xf||(Xf=!0,hT(fT))}function wl(t,n){if(!$f&&oo){$f=!0;do for(var a=!1,l=uo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-Ke(42|t)+1)-1,h&=c&~(y&~E),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(a=!0,fp(l,h))}else h=Ot,h=dn(l,l===Yt?h:0),!(h&3)||Hi(l,h)||(a=!0,fp(l,h));l=l.next}while(a);$f=!1}}function fT(){oo=Xf=!1;var t=0;hr!==0&&(ET()&&(t=hr),hr=0);for(var n=Je(),a=null,l=uo;l!==null;){var c=l.next,h=op(l,n);h===0?(l.next=null,a===null?uo=c:a.next=c,c===null&&(fs=a)):(a=l,(t!==0||h&3)&&(oo=!0)),l=c}wl(t)}function op(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Ke(h),E=1<<y,S=c[y];S===-1?(!(E&a)||E&l)&&(c[y]=Ir(E,n)):S<=n&&(t.expiredLanes|=E),h&=~E}if(n=Yt,a=Ot,a=dn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Hi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Cr(l),cu(a)){case 2:case 8:a=Re;break;case 32:a=ui;break;case 268435456:a=Us;break;default:a=ui}return l=cp.bind(null,t),a=xa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function cp(t,n){var a=t.callbackNode;if(cs()&&t.callbackNode!==a)return null;var l=Ot;return l=dn(t,t===Yt?l:0),l===0?null:(Zg(t,l,n),op(t,Je()),t.callbackNode!=null&&t.callbackNode===a?cp.bind(null,t):null)}function fp(t,n){if(cs())return null;Zg(t,n,!0)}function hT(t){AT(function(){Wt&6?xa(pe,t):t()})}function Zf(){return hr===0&&(hr=zs()),hr}function hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function dp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function dT(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=hp((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?hp(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new Lr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hr!==0){var S=y?dp(c,y):new FormData(c);sf(a,{pending:!0,data:S,method:c.method,action:h},null,S)}}else typeof h=="function"&&(E.preventDefault(),S=y?dp(c,y):new FormData(c),sf(a,{pending:!0,data:S,method:c.method,action:h},h,S))},currentTarget:c}]})}}for(var Jf=0;Jf<rm.length;Jf++){var Wf=rm[Jf],mT=Wf.toLowerCase(),gT=Wf[0].toUpperCase()+Wf.slice(1);Nn(mT,"on"+gT)}Nn(tm,"onAnimationEnd"),Nn(em,"onAnimationIteration"),Nn(nm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(NE,"onTransitionRun"),Nn(ME,"onTransitionStart"),Nn(UE,"onTransitionCancel"),Nn(im,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function mp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,V=E.currentTarget;if(E=E.listener,S!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=V;try{h(c)}catch(j){Xu(j)}c.currentTarget=null,h=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,V=E.currentTarget,E=E.listener,S!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=V;try{h(c)}catch(j){Xu(j)}c.currentTarget=null,h=S}}}}function Ct(t,n){var a=n[za];a===void 0&&(a=n[za]=new Set);var l=t+"__bubble";a.has(l)||(gp(n,t,2,!1),a.add(l))}function th(t,n,a){var l=0;n&&(l|=4),gp(a,t,l,n)}var co="_reactListening"+Math.random().toString(36).slice(2);function eh(t){if(!t[co]){t[co]=!0,ks.forEach(function(a){a!=="selectionchange"&&(pT.has(a)||th(a,!1,t),th(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[co]||(n[co]=!0,th("selectionchange",!1,n))}}function gp(t,n,a,l){switch(Pp(n)){case 2:var c=HT;break;case 8:c=jT;break;default:c=mh}a=c.bind(null,n,a,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function nh(t,n,a,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;y=y.return}for(;E!==null;){if(y=On(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=h=y;continue t}E=E.parentNode}}l=l.return}gu(function(){var V=h,j=xr(a),Q=[];t:{var P=am.get(t);if(P!==void 0){var H=Lr,at=t;switch(t){case"keypress":if(Gn(a)===0)break t;case"keydown":case"keyup":H=Hr;break;case"focusin":at="focus",H=kr;break;case"focusout":at="blur",H=kr;break;case"beforeblur":case"afterblur":H=kr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Su;break;case tm:case em:case nm:H=Br;break;case im:H=Ru;break;case"scroll":case"scrollend":H=pu;break;case"wheel":H=jr;break;case"copy":case"cut":case"paste":H=qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zs;break;case"toggle":case"beforetoggle":H=Du}var gt=(n&4)!==0,re=!gt&&(t==="scroll"||t==="scrollend"),U=gt?P!==null?P+"Capture":null:P;gt=[];for(var I=V,z;I!==null;){var G=I;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||U===null||(G=Ha(I,U),G!=null&&gt.push(Cl(I,G,z))),re)break;I=I.return}0<gt.length&&(P=new H(P,at,null,a,j),Q.push({event:P,listeners:gt}))}}if(!(n&7)){t:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&a!==pn&&(at=a.relatedTarget||a.fromElement)&&(On(at)||at[oi]))break t;if((H||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,H?(at=a.relatedTarget||a.toElement,H=V,at=at?On(at):null,at!==null&&(re=lt(at),gt=at.tag,at!==re||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(H=null,at=V),H!==at)){if(gt=_n,G="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Zs,G="onPointerLeave",U="onPointerEnter",I="pointer"),re=H==null?P:Yi(H),z=at==null?P:Yi(at),P=new gt(G,I+"leave",H,a,j),P.target=re,P.relatedTarget=z,G=null,On(j)===V&&(gt=new gt(U,I+"enter",at,a,j),gt.target=z,gt.relatedTarget=re,G=gt),re=G,H&&at)e:{for(gt=H,U=at,I=0,z=gt;z;z=hs(z))I++;for(z=0,G=U;G;G=hs(G))z++;for(;0<I-z;)gt=hs(gt),I--;for(;0<z-I;)U=hs(U),z--;for(;I--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=hs(gt),U=hs(U)}gt=null}else gt=null;H!==null&&pp(Q,P,H,gt,!1),at!==null&&re!==null&&pp(Q,re,at,gt,!0)}}t:{if(P=V?Yi(V):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var it=jd;else if(ve(P))if(Gd)it=CE;else{it=wE;var bt=RE}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?V&&Gs(V.elementType)&&(it=jd):it=DE;if(it&&(it=it(t,V))){yi(Q,it,a,j);break t}bt&&bt(t,P,V),t==="focusout"&&V&&P.type==="number"&&V.memoizedProps.value!=null&&Ur(P,"number",P.value)}switch(bt=V?Yi(V):window,t){case"focusin":(ve(bt)||bt.contentEditable==="true")&&(Gr=bt,Nc=V,tl=null);break;case"focusout":tl=Nc=Gr=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Jd(Q,a,j);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":Jd(Q,a,j)}var st;if(Kn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else It?B(t,a)&&(ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(p&&a.locale!=="ko"&&(It||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&It&&(st=Qs()):(jn=j,ta="value"in jn?jn.value:jn.textContent,It=!0)),bt=fo(V,ct),0<bt.length&&(ct=new Xs(ct,t,null,a,j),Q.push({event:ct,listeners:bt}),st?ct.data=st:(st=$(a),st!==null&&(ct.data=st)))),(st=m?_e(t,a):Vt(t,a))&&(ct=fo(V,"onBeforeInput"),0<ct.length&&(bt=new Xs("onBeforeInput","beforeinput",null,a,j),Q.push({event:bt,listeners:ct}),bt.data=st)),dT(Q,t,V,a,j)}mp(Q,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function fo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ha(t,a),c!=null&&l.unshift(Cl(t,c,h)),c=Ha(t,n),c!=null&&l.push(Cl(t,c,h))),t=t.return}return l}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pp(t,n,a,l,c){for(var h=n._reactName,y=[];a!==null&&a!==l;){var E=a,S=E.alternate,V=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||V===null||(S=V,c?(V=Ha(a,h),V!=null&&y.unshift(Cl(a,V,S))):c||(V=Ha(a,h),V!=null&&y.push(Cl(a,V,S)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var yT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function yp(t){return(typeof t=="string"?t:""+t).replace(yT,`
`).replace(_T,"")}function _p(t,n){return n=yp(n),yp(t)===n}function ho(){}function Gt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Zi(t,"class",l);break;case"tabIndex":Zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(t,a,l);break;case"style":mu(t,l,h);break;case"data":if(n!=="object"){Zi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ho);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),$i(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rc.get(a)||a,$i(t,a,l))}}function ih(t,n,a,l,c,h){switch(a){case"style":mu(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ho);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[ye]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$i(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var y=a[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Gt(t,n,h,y,a,null)}}c&&Gt(t,n,"srcSet",a.srcSet,a,null),l&&Gt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=h=y=c=null,S=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":c=j;break;case"type":y=j;break;case"checked":S=j;break;case"defaultChecked":V=j;break;case"value":h=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Gt(t,n,l,j,a,null)}}Ba(t,h,E,S,V,y,c,!1),ka(t);return;case"select":Ct("invalid",t),l=y=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Gt(t,n,c,E,a,null)}n=h,a=y,t.multiple=!!l,n!=null?Lt(t,!!l,n,!1):a!=null&&Lt(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),h=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Gt(t,n,y,E,a,null)}Wi(t,l,c,h),ka(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,S,l,a,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ct(Dl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Gt(t,n,V,l,a,null)}return;default:if(Gs(n)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&ih(t,n,j,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Gt(t,n,E,l,a,null))}function vT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,S=null,V=null,j=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":S=Q;default:l.hasOwnProperty(H)||Gt(t,n,H,null,l,Q)}}for(var P in l){var H=l[P];if(Q=a[P],l.hasOwnProperty(P)&&(H!=null||Q!=null))switch(P){case"type":h=H;break;case"name":c=H;break;case"checked":V=H;break;case"defaultChecked":j=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Q&&Gt(t,n,P,H,l,Q)}}Ji(t,y,E,S,V,j,h,c);return;case"select":H=y=E=P=null;for(h in a)if(S=a[h],a.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":H=S;default:l.hasOwnProperty(h)||Gt(t,n,h,null,l,S)}for(c in l)if(h=l[c],S=a[c],l.hasOwnProperty(c)&&(h!=null||S!=null))switch(c){case"value":P=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==S&&Gt(t,n,c,h,l,S)}n=E,a=y,l=H,P!=null?Lt(t,!!a,P,!1):!!l!=!!a&&(n!=null?Lt(t,!!a,n,!0):Lt(t,!!a,a?[]:"",!1));return;case"textarea":H=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=a[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":P=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Gt(t,n,y,c,l,h)}qa(t,P,H);return;case"option":for(var at in a)if(P=a[at],a.hasOwnProperty(at)&&P!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Gt(t,n,at,null,l,P)}for(S in l)if(P=l[S],H=a[S],l.hasOwnProperty(S)&&P!==H&&(P!=null||H!=null))switch(S){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Gt(t,n,S,P,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)P=a[gt],a.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&Gt(t,n,gt,null,l,P);for(V in l)if(P=l[V],H=a[V],l.hasOwnProperty(V)&&P!==H&&(P!=null||H!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Gt(t,n,V,P,l,H)}return;default:if(Gs(n)){for(var re in a)P=a[re],a.hasOwnProperty(re)&&P!==void 0&&!l.hasOwnProperty(re)&&ih(t,n,re,void 0,l,P);for(j in l)P=l[j],H=a[j],!l.hasOwnProperty(j)||P===H||P===void 0&&H===void 0||ih(t,n,j,P,l,H);return}}for(var U in a)P=a[U],a.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Gt(t,n,U,null,l,P);for(Q in l)P=l[Q],H=a[Q],!l.hasOwnProperty(Q)||P===H||P==null&&H==null||Gt(t,n,Q,P,l,H)}var ah=null,rh=null;function mo(t){return t.nodeType===9?t:t.ownerDocument}function vp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ep(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function sh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lh=null;function ET(){var t=window.event;return t&&t.type==="popstate"?t===lh?!1:(lh=t,!0):(lh=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(t){return Ap.resolve(null).then(t).catch(ST)}:Tp;function ST(t){setTimeout(function(){throw t})}function uh(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),Ll(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);Ll(n)}function oh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":oh(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bT(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ki])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function RT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function bp(t,n,a){switch(n=mo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Cn=new Map,Rp=new Set;function go(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ni=et.d;et.d={f:wT,r:DT,D:CT,C:IT,L:VT,m:OT,X:MT,S:NT,M:UT};function wT(){var t=Ni.f(),n=so();return t||n}function DT(t){var n=ci(t);n!==null&&n.tag===5&&n.type==="form"?Jm(n):Ni.r(t)}var ds=typeof document>"u"?null:document;function wp(t,n,a){var l=ds;if(l&&typeof n=="string"&&n){var c=ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Rp.has(c)||(Rp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),Zt(n),l.head.appendChild(n)))}}function CT(t){Ni.D(t),wp("dns-prefetch",t,null)}function IT(t,n){Ni.C(t,n),wp("preconnect",t,n)}function VT(t,n,a){Ni.L(t,n,a);var l=ds;if(l&&t&&n){var c='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ne(a.imageSizes)+'"]')):c+='[href="'+ne(t)+'"]';var h=c;switch(n){case"style":h=ms(t);break;case"script":h=gs(t)}Cn.has(h)||(t=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Cn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(h))||n==="script"&&l.querySelector(Vl(h))||(n=l.createElement("link"),Le(n,"link",t),Zt(n),l.head.appendChild(n)))}}function OT(t,n){Ni.m(t,n);var a=ds;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ne(l)+'"][href="'+ne(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=gs(t)}if(!Cn.has(h)&&(t=D({rel:"modulepreload",href:t},n),Cn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(h)))return}l=a.createElement("link"),Le(l,"link",t),Zt(l),a.head.appendChild(l)}}}function NT(t,n,a){Ni.S(t,n,a);var l=ds;if(l&&t){var c=Xi(l).hoistableStyles,h=ms(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Il(h)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Cn.get(h))&&ch(t,a);var S=y=l.createElement("link");Zt(S),Le(S,"link",t),S._p=new Promise(function(V,j){S.onload=V,S.onerror=j}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,po(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function MT(t,n){Ni.X(t,n);var a=ds;if(a&&t){var l=Xi(a).hoistableScripts,c=gs(t),h=l.get(c);h||(h=a.querySelector(Vl(c)),h||(t=D({src:t,async:!0},n),(n=Cn.get(c))&&fh(t,n),h=a.createElement("script"),Zt(h),Le(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function UT(t,n){Ni.M(t,n);var a=ds;if(a&&t){var l=Xi(a).hoistableScripts,c=gs(t),h=l.get(c);h||(h=a.querySelector(Vl(c)),h||(t=D({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&fh(t,n),h=a.createElement("script"),Zt(h),Le(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Dp(t,n,a,l){var c=(c=hn.current)?go(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ms(a.href),a=Xi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ms(a.href);var h=Xi(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(Il(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),h||xT(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=gs(a),a=Xi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ms(t){return'href="'+ne(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Cp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function xT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),Zt(n),t.head.appendChild(n))}function gs(t){return'[src="'+ne(t)+'"]'}function Vl(t){return"script[async]"+t}function Ip(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ne(a.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),Le(l,"style",c),po(l,a.precedence,t),n.instance=l;case"stylesheet":c=ms(a.href);var h=t.querySelector(Il(c));if(h)return n.state.loading|=4,n.instance=h,Zt(h),h;l=Cp(a),(c=Cn.get(c))&&ch(l,c),h=(t.ownerDocument||t).createElement("link"),Zt(h);var y=h;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Le(h,"link",l),n.state.loading|=4,po(h,a.precedence,t),n.instance=h;case"script":return h=gs(a.src),(c=t.querySelector(Vl(h)))?(n.instance=c,Zt(c),c):(l=a,(c=Cn.get(h))&&(l=D({},a),fh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,po(l,a.precedence,t));return n.instance}function po(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ch(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function fh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yo=null;function Vp(t,n,a){if(yo===null){var l=new Map,c=yo=new Map;c.set(a,l)}else c=yo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[Ki]||h[we]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function Op(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function LT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Np(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ol=null;function zT(){}function PT(t,n,a){if(Ol===null)throw Error(s(475));var l=Ol;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ms(a.href),h=t.querySelector(Il(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=_o.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,Zt(h);return}h=t.ownerDocument||t,a=Cp(a),(c=Cn.get(c))&&ch(a,c),h=h.createElement("link"),Zt(h);var y=h;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Le(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=_o.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function kT(){if(Ol===null)throw Error(s(475));var t=Ol;return t.stylesheets&&t.count===0&&hh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function _o(){if(this.count--,this.count===0){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vo=null;function hh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vo=new Map,n.forEach(BT,t),vo=null,_o.call(t))}function BT(t,n){if(!(n.state.loading&4)){var a=vo.get(t);if(a)var l=a.get(null);else{a=new Map,vo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=a.get(y)||l,h===l&&a.set(null,c),a.set(y,c),this.count++,l=_o.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:q,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function qT(t,n,a,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Mp(t,n,a,l,c,h,y,E,S,V,j,Q){return t=new qT(t,n,a,y,E,S,V,Q),n=1,h===!0&&(n|=24),h=wn(3,null,null,n),t.current=h,h.stateNode=t,n=jc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},bf(h),t}function Up(t){return t?(t=Kr,t):Kr}function xp(t,n,a,l,c,h){c=Up(c),l.context===null?l.context=c:l.pendingContext=c,l=ua(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=oa(t,l,n),a!==null&&(Ze(a,t,n),gl(a,t,n))}function Lp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function dh(t,n){Lp(t,n),(t=t.alternate)&&Lp(t,n)}function zp(t){if(t.tag===13){var n=ea(t,67108864);n!==null&&Ze(n,t,67108864),dh(t,67108864)}}var Eo=!0;function HT(t,n,a,l){var c=A.T;A.T=null;var h=et.p;try{et.p=2,mh(t,n,a,l)}finally{et.p=h,A.T=c}}function jT(t,n,a,l){var c=A.T;A.T=null;var h=et.p;try{et.p=8,mh(t,n,a,l)}finally{et.p=h,A.T=c}}function mh(t,n,a,l){if(Eo){var c=gh(l);if(c===null)nh(t,n,l,To,a),kp(t,l);else if(FT(c,t,n,a,l))l.stopPropagation();else if(kp(t,l),n&4&&-1<GT.indexOf(t)){for(;c!==null;){var h=ci(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Vn(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-Ke(y);E.entanglements[1]|=S,y&=~S}Wn(h),!(Wt&6)&&(io=Je()+500,wl(0))}}break;case 13:E=ea(h,2),E!==null&&Ze(E,h,2),so(),dh(h,2)}if(h=gh(l),h===null&&nh(t,n,l,To,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else nh(t,n,l,null,a)}}function gh(t){return t=xr(t),ph(t)}var To=null;function ph(t){if(To=null,t=On(t),t!==null){var n=lt(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=kt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return To=t,null}function Pp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ru()){case pe:return 2;case Re:return 8;case ui:case su:return 32;case Us:return 268435456;default:return 32}default:return 32}}var yh=!1,pa=null,ya=null,_a=null,Ml=new Map,Ul=new Map,va=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kp(t,n){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function xl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ci(n),n!==null&&zp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function FT(t,n,a,l,c){switch(n){case"focusin":return pa=xl(pa,t,n,a,l,c),!0;case"dragenter":return ya=xl(ya,t,n,a,l,c),!0;case"mouseover":return _a=xl(_a,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Ml.set(h,xl(Ml.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Ul.set(h,xl(Ul.get(h)||null,t,n,a,l,c)),!0}return!1}function Bp(t){var n=On(t.target);if(n!==null){var a=lt(n);if(a!==null){if(n=a.tag,n===13){if(n=kt(a),n!==null){t.blockedOn=n,Qi(t.priority,function(){if(a.tag===13){var l=cn(),c=ea(a,l);c!==null&&Ze(c,a,l),dh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=gh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pn=l,a.target.dispatchEvent(l),pn=null}else return n=ci(a),n!==null&&zp(n),t.blockedOn=a,!1;n.shift()}return!0}function qp(t,n,a){Ao(t)&&a.delete(n)}function QT(){yh=!1,pa!==null&&Ao(pa)&&(pa=null),ya!==null&&Ao(ya)&&(ya=null),_a!==null&&Ao(_a)&&(_a=null),Ml.forEach(qp),Ul.forEach(qp)}function So(t,n){t.blockedOn===n&&(t.blockedOn=null,yh||(yh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QT)))}var bo=null;function Hp(t){bo!==t&&(bo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bo===t&&(bo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ph(l||a)===null)continue;break}var h=ci(a);h!==null&&(t.splice(n,3),n-=3,sf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ll(t){function n(S){return So(S,t)}pa!==null&&So(pa,t),ya!==null&&So(ya,t),_a!==null&&So(_a,t),Ml.forEach(n),Ul.forEach(n);for(var a=0;a<va.length;a++){var l=va[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<va.length&&(a=va[0],a.blockedOn===null);)Bp(a),a.blockedOn===null&&va.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],y=c[ye]||null;if(typeof h=="function")y||Hp(a);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[ye]||null)E=y.formAction;else if(ph(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Hp(a)}}}function _h(t){this._internalRoot=t}Ro.prototype.render=_h.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=cn();xp(a,l,t,n,null,null)},Ro.prototype.unmount=_h.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&cs(),xp(t.current,2,null,t,null,null),so(),n[oi]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<va.length&&n!==0&&n<va[a].priority;a++);va.splice(a,0,t),a===0&&Bp(t)}};var jp=e.version;if(jp!=="19.0.0")throw Error(s(527,jp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Y(n),t=t!==null?rt(t):null,t=t===null?null:t.stateNode,t};var KT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Bi=wo.inject(KT),Be=wo}catch{}}return Pl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=sg,h=lg,y=ug,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Mp(t,1,!1,null,null,a,l,c,h,y,E,null),t[oi]=n.current,eh(t.nodeType===8?t.parentNode:t),new _h(n)},Pl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",h=sg,y=lg,E=ug,S=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),n=Mp(t,1,!0,n,a??null,l,c,h,y,E,S,V),n.context=Up(null),a=n.current,l=cn(),c=ua(l),c.callback=null,oa(a,c,l),n.current.lanes=l,se(n,l),Wn(n),t[oi]=n.current,eh(t),new Ro(n)},Pl.version="19.0.0",Pl}var Wp;function i0(){if(Wp)return Th.exports;Wp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Th.exports=n0(),Th.exports}var a0=i0();function r0({channelName:r,picURL:e,link:i}){return Ft.jsx("a",{href:i,target:"_blank",children:Ft.jsxs("div",{className:"card-container",children:[Ft.jsx("img",{className:"channel-img",src:e,alt:"channel image",width:"100px",height:"100px"}),Ft.jsx("h2",{className:"channel-name",children:r})]})})}var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},s0=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const f=r[i++];e[s++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=r[i++],d=r[i++],g=r[i++],_=((u&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const f=r[u],d=u+1<r.length,g=d?r[u+1]:0,_=u+2<r.length,v=_?r[u+2]:0,b=f>>2,N=(f&3)<<4|g>>4;let k=(g&15)<<2|v>>6,q=v&63;_||(q=64,d||(k=64)),s.push(i[b],i[N],i[k],i[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(p_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):s0(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const f=i[r.charAt(u++)],g=u<r.length?i[r.charAt(u)]:0;++u;const v=u<r.length?i[r.charAt(u)]:64;++u;const N=u<r.length?i[r.charAt(u)]:64;if(++u,f==null||g==null||v==null||N==null)throw new l0;const k=f<<2|g>>4;if(s.push(k),v!==64){const q=g<<4&240|v>>2;if(s.push(q),N!==64){const Z=v<<6&192|N;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class l0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u0=function(r){const e=p_(r);return y_.encodeByteArray(e,!0)},ko=function(r){return u0(r).replace(/\./g,"")},o0=function(r){try{return y_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=()=>c0().__FIREBASE_DEFAULTS__,h0=()=>{if(typeof process>"u"||typeof ty>"u")return;const r=ty.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},d0=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&o0(r[1]);return e&&JSON.parse(e)},sd=()=>{try{return f0()||h0()||d0()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m0=r=>{var e,i;return(i=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},g0=r=>{const e=m0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},__=()=>{var r;return(r=sd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ko(JSON.stringify(i)),ko(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v0(){var r;const e=(r=sd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function T0(){return!v0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v_(){try{return typeof indexedDB=="object"}catch{return!1}}function E_(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var f;e(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}function A0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="FirebaseError";class Ua extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=S0,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,f=this.errors[e],d=f?b0(f,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ua(u,g,s)}}function b0(r,e){return r.replace(R0,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const R0=/\{\$([^}]+)}/g;function Bo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const f=r[u],d=e[u];if(ey(f)&&ey(d)){if(!Bo(f,d))return!1}else if(f!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function ey(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=1e3,D0=2,C0=4*60*60*1e3,I0=.5;function ny(r,e=w0,i=D0){const s=e*Math.pow(i,r),u=Math.round(I0*s*(Math.random()-.5)*2);return Math.min(C0,s+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r){return r&&r._delegate?r._delegate:r}class Ui{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new p0;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N0(e))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});s.resolve(f)}catch{}}}}clearInstance(e=mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mr){return this.instances.has(e)}getOptions(e=mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;f.add(e),this.onInitCallbacks.set(u,f);const d=this.instances.get(u);return d&&e(d,u),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:O0(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=mr){return this.component?this.component.multipleInstances?e:mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O0(r){return r===mr?void 0:r}function N0(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new V0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const U0={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},x0=Mt.INFO,L0={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},z0=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=L0[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ld{constructor(e){this.name=e,this._logLevel=x0,this._logHandler=z0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const P0=(r,e)=>e.some(i=>r instanceof i);let iy,ay;function k0(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B0(){return ay||(ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,Lh=new WeakMap,A_=new WeakMap,Rh=new WeakMap,ud=new WeakMap;function q0(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(Aa(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&T_.set(i,r)}).catch(()=>{}),ud.set(e,r),e}function H0(r){if(Lh.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});Lh.set(r,e)}let zh={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Lh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||A_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Aa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function j0(r){zh=r(zh)}function G0(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(wh(this),e,...i);return A_.set(s,e.sort?e.sort():[e]),Aa(s)}:B0().includes(r)?function(...e){return r.apply(wh(this),e),Aa(T_.get(this))}:function(...e){return Aa(r.apply(wh(this),e))}}function F0(r){return typeof r=="function"?G0(r):(r instanceof IDBTransaction&&H0(r),P0(r,k0())?new Proxy(r,zh):r)}function Aa(r){if(r instanceof IDBRequest)return q0(r);if(Rh.has(r))return Rh.get(r);const e=F0(r);return e!==r&&(Rh.set(r,e),ud.set(e,r)),e}const wh=r=>ud.get(r);function S_(r,e,{blocked:i,upgrade:s,blocking:u,terminated:f}={}){const d=indexedDB.open(r,e),g=Aa(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Aa(d.result),_.oldVersion,_.newVersion,Aa(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Q0=["get","getKey","getAll","getAllKeys","count"],K0=["put","add","delete","clear"],Dh=new Map;function ry(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dh.get(e))return Dh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=K0.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||Q0.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Dh.set(e,f),f}j0(r=>({...r,get:(e,i,s)=>ry(e,i)||r.get(e,i,s),has:(e,i)=>!!ry(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(X0(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function X0(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ph="@firebase/app",sy="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new ld("@firebase/app"),$0="@firebase/app-compat",Z0="@firebase/analytics-compat",J0="@firebase/analytics",W0="@firebase/app-check-compat",tA="@firebase/app-check",eA="@firebase/auth",nA="@firebase/auth-compat",iA="@firebase/database",aA="@firebase/data-connect",rA="@firebase/database-compat",sA="@firebase/functions",lA="@firebase/functions-compat",uA="@firebase/installations",oA="@firebase/installations-compat",cA="@firebase/messaging",fA="@firebase/messaging-compat",hA="@firebase/performance",dA="@firebase/performance-compat",mA="@firebase/remote-config",gA="@firebase/remote-config-compat",pA="@firebase/storage",yA="@firebase/storage-compat",_A="@firebase/firestore",vA="@firebase/vertexai",EA="@firebase/firestore-compat",TA="firebase",AA="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",SA={[Ph]:"fire-core",[$0]:"fire-core-compat",[J0]:"fire-analytics",[Z0]:"fire-analytics-compat",[tA]:"fire-app-check",[W0]:"fire-app-check-compat",[eA]:"fire-auth",[nA]:"fire-auth-compat",[iA]:"fire-rtdb",[aA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[sA]:"fire-fn",[lA]:"fire-fn-compat",[uA]:"fire-iid",[oA]:"fire-iid-compat",[cA]:"fire-fcm",[fA]:"fire-fcm-compat",[hA]:"fire-perf",[dA]:"fire-perf-compat",[mA]:"fire-rc",[gA]:"fire-rc-compat",[pA]:"fire-gcs",[yA]:"fire-gcs-compat",[_A]:"fire-fst",[EA]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,bA=new Map,Bh=new Map;function ly(r,e){try{r.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Da(r){const e=r.name;if(Bh.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,r);for(const i of qo.values())ly(i,r);for(const i of bA.values())ly(i,r);return!0}function tu(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function RA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new ic("app","Firebase",wA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=AA;function b_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw Sa.create("bad-app-name",{appName:String(u)});if(i||(i=__()),!i)throw Sa.create("no-options");const f=qo.get(u);if(f){if(Bo(i,f.options)&&Bo(s,f.config))return f;throw Sa.create("duplicate-app",{appName:u})}const d=new M0(u);for(const _ of Bh.values())d.addComponent(_);const g=new DA(i,s,d);return qo.set(u,g),g}function R_(r=kh){const e=qo.get(r);if(!e&&r===kh&&__())return b_();if(!e)throw Sa.create("no-app",{appName:r});return e}function ei(r,e,i){var s;let u=(s=SA[r])!==null&&s!==void 0?s:r;i&&(u+=`-${i}`);const f=u.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${u}" with version "${e}":`];f&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Da(new Ui(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firebase-heartbeat-database",VA=1,Kl="firebase-heartbeat-store";let Ch=null;function w_(){return Ch||(Ch=S_(IA,VA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Sa.create("idb-open",{originalErrorMessage:r.message})})),Ch}async function OA(r){try{const i=(await w_()).transaction(Kl),s=await i.objectStore(Kl).get(D_(r));return await i.done,s}catch(e){if(e instanceof Ua)xi.warn(e.message);else{const i=Sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(i.message)}}}async function uy(r,e){try{const s=(await w_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,D_(r)),await s.done}catch(i){if(i instanceof Ua)xi.warn(i.message);else{const s=Sa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(s.message)}}}function D_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=1024,MA=30;class UA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=oy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>MA){const d=zA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=oy(),{heartbeatsToSend:s,unsentEntries:u}=xA(this._heartbeatsCache.heartbeats),f=ko(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return xi.warn(i),""}}}function oy(){return new Date().toISOString().substring(0,10)}function xA(r,e=NA){const i=[];let s=r.slice();for(const u of r){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),cy(i)>e){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),cy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v_()?E_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function cy(r){return ko(JSON.stringify({version:2,heartbeats:r})).length}function zA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r){Da(new Ui("platform-logger",e=>new Y0(e),"PRIVATE")),Da(new Ui("heartbeat",e=>new UA(e),"PRIVATE")),ei(Ph,sy,r),ei(Ph,sy,"esm2017"),ei("fire-js","")}PA("");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,C_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function A(){}A.prototype=R.prototype,M.D=R.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,O,L){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return R.prototype[O].apply(D,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)D[O]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=M.g[0],A=M.g[1],O=M.g[2];var L=M.g[3],w=R+(L^A&(O^L))+D[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[1]+3905402710&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[2]+606105819&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[3]+3250441966&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[5]+1200080426&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[6]+2821735955&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[7]+4249261313&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[9]+2336552879&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[10]+4294925233&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[11]+2304563134&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[13]+4254626195&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[14]+2792965006&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[15]+1236535329&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(O^L&(A^O))+D[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[6]+3225465664&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[11]+643717713&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[0]+3921069994&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[10]+38016083&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[15]+3634488961&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[4]+3889429448&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[14]+3275163606&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[3]+4107603335&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[8]+1163531501&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[2]+4243563512&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[7]+1735328473&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[12]+2368359562&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(A^O^L)+D[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[8]+2272392833&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[11]+1839030562&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[14]+4259657740&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[4]+1272893353&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[7]+4139469664&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[10]+3200236656&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[0]+3936430074&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[3]+3572445317&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[6]+76029189&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[12]+3873151461&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[15]+530742520&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[2]+3299628645&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(O^(A|~L))+D[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[7]+1126891415&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[14]+2878612391&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[5]+4237533241&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[3]+2399980690&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[10]+4293915773&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[1]+2240044497&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[15]+4264355552&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[6]+2734768916&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[13]+1309151649&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[11]+3174756917&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[2]+718787259&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var A=R-this.blockSize,D=this.B,O=this.h,L=0;L<R;){if(O==0)for(;L<=A;)u(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<R;)if(D[O++]=M.charCodeAt(L++),O==this.blockSize){u(this,D),O=0;break}}else for(;L<R;)if(D[O++]=M[L++],O==this.blockSize){u(this,D),O=0;break}}this.h=O,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var A=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=A&255,A/=256;for(this.u(M),M=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)M[A++]=this.g[R]>>>D&255;return M};function f(M,R){var A=g;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=R(M)}function d(M,R){this.h=R;for(var A=[],D=!0,O=M.length-1;0<=O;O--){var L=M[O]|0;D&&L==R||(A[O]=L,D=!1)}this.g=A}var g={};function _(M){return-128<=M&&128>M?f(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return N;if(0>M)return X(v(-M));for(var R=[],A=1,D=0;M>=A;D++)R[D]=M/A|0,A*=4294967296;return new d(R,0)}function b(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return X(b(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),D=N,O=0;O<M.length;O+=8){var L=Math.min(8,M.length-O),w=parseInt(M.substring(O,O+L),R);8>L?(L=v(Math.pow(R,L)),D=D.j(L).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var N=_(0),k=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(W(this))return-X(this).m();for(var M=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Z(this))return"0";if(W(this))return"-"+X(this).toString(M);for(var R=v(Math.pow(M,6)),A=this,D="";;){var O=Qt(A,R).g;A=St(A,O.j(R));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=O,Z(A))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Z(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function W(M){return M.h==-1}r.l=function(M){return M=St(this,M),W(M)?-1:Z(M)?0:1};function X(M){for(var R=M.g.length,A=[],D=0;D<R;D++)A[D]=~M.g[D];return new d(A,~M.h).add(k)}r.abs=function(){return W(this)?X(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0,O=0;O<=R;O++){var L=D+(this.i(O)&65535)+(M.i(O)&65535),w=(L>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);D=w>>>16,L&=65535,w&=65535,A[O]=w<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function St(M,R){return M.add(X(R))}r.j=function(M){if(Z(this)||Z(M))return N;if(W(this))return W(M)?X(this).j(X(M)):X(X(this).j(M));if(W(M))return X(this.j(X(M)));if(0>this.l(q)&&0>M.l(q))return v(this.m()*M.m());for(var R=this.g.length+M.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<M.g.length;O++){var L=this.i(D)>>>16,w=this.i(D)&65535,ge=M.i(O)>>>16,oe=M.i(O)&65535;A[2*D+2*O]+=w*oe,dt(A,2*D+2*O),A[2*D+2*O+1]+=L*oe,dt(A,2*D+2*O+1),A[2*D+2*O+1]+=w*ge,dt(A,2*D+2*O+1),A[2*D+2*O+2]+=L*ge,dt(A,2*D+2*O+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function dt(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function Et(M,R){this.g=M,this.h=R}function Qt(M,R){if(Z(R))throw Error("division by zero");if(Z(M))return new Et(N,N);if(W(M))return R=Qt(X(M),R),new Et(X(R.g),X(R.h));if(W(R))return R=Qt(M,X(R)),new Et(X(R.g),R.h);if(30<M.g.length){if(W(M)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var A=k,D=R;0>=D.l(M);)A=yt(A),D=yt(D);var O=Ut(A,1),L=Ut(D,1);for(D=Ut(D,2),A=Ut(A,2);!Z(D);){var w=L.add(D);0>=w.l(M)&&(O=O.add(A),L=w),D=Ut(D,1),A=Ut(A,1)}return R=St(M,O.j(R)),new Et(O,R)}for(O=N;0<=M.l(R);){for(A=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=v(A),w=L.j(R);W(w)||0<w.l(M);)A-=D,L=v(A),w=L.j(R);Z(L)&&(L=k),O=O.add(L),M=St(M,w)}return new Et(O,M)}r.A=function(M){return Qt(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&M.i(D);return new d(A,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|M.i(D);return new d(A,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^M.i(D);return new d(A,this.h^M.h)};function yt(M){for(var R=M.g.length+1,A=[],D=0;D<R;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new d(A,M.h)}function Ut(M,R){var A=R>>5;R%=32;for(var D=M.g.length-A,O=[],L=0;L<D;L++)O[L]=0<R?M.i(L+A)>>>R|M.i(L+A+1)<<32-R:M.i(L+A);return new d(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,C_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,ba=d}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I_,kl,V_,Mo,qh,O_,N_,M_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Do=="object"&&Do];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in p))break t;p=p[x]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function f(o,m){o instanceof String&&(o+="");var p=0,T=!1,x={next:function(){if(!T&&p<o.length){var B=p++;return{value:m(B,o[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function b(o,m,p){return o.call.apply(o.bind,arguments)}function N(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function k(o,m,p){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:N,k.apply(null,arguments)}function q(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,x,B){for(var $=Array(arguments.length-2),It=2;It<arguments.length;It++)$[It-2]=arguments[It];return m.prototype[x].apply(T,$)}}function W(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function X(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const x=o.length||0,B=T.length||0;o.length=x+B;for(let $=0;$<B;$++)o[x+$]=T[$]}else o.push(T)}}class St{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function Et(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Qt(o){return Qt[" "](o),o}Qt[" "]=function(){};var yt=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function Ut(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function R(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(p in T)o[p]=T[p];for(let B=0;B<A.length;B++)p=A[B],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function L(o){g.setTimeout(()=>{throw o},0)}function w(){var o=kt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new St(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,lt=!1,kt=new ge,C=()=>{const o=g.Promise.resolve(void 0);ft=()=>{o.then(Y)}};var Y=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){L(p)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Tt(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(yt){t:{try{Qt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Tt.aa.h.call(this)}}Z(Tt,tt);var _t={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),xt=0;function ee(o,m,p,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=x,this.key=++xt,this.da=this.fa=!1}function Ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Qe(o){this.src=o,this.g={},this.h=0}Qe.prototype.add=function(o,m,p,T,x){var B=o.toString();o=this.g[B],o||(o=this.g[B]=[],this.h++);var $=hn(o,m,T,x);return-1<$?(m=o[$],p||(m.fa=!1)):(m=new ee(m,this.src,B,!!T,x),m.fa=p,o.push(m)),m};function si(o,m){var p=m.type;if(p in o.g){var T=o.g[p],x=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=x)&&Array.prototype.splice.call(T,x,1),B&&(Ht(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function hn(o,m,p,T){for(var x=0;x<o.length;++x){var B=o[x];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==T)return x}return-1}var Pi="closure_lm_"+(1e6*Math.random()|0),ki={};function li(o,m,p,T,x){if(Array.isArray(m)){for(var B=0;B<m.length;B++)li(o,m[B],p,T,x);return null}return p=ru(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,x):Ns(o,m,p,!1,T,x)}function Ns(o,m,p,T,x,B){if(!m)throw Error("Invalid event type");var $=v(x)?!!x.capture:!!x,It=Ms(o);if(It||(o[Pi]=It=new Qe(o)),p=It.add(m,p,T,$,B),p.proxy)return p;if(T=wr(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)et||(x=$),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(Cr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function wr(){function o(p){return m.call(o.src,o.listener,p)}const m=Ec;return o}function Dr(o,m,p,T,x){if(Array.isArray(m))for(var B=0;B<m.length;B++)Dr(o,m[B],p,T,x);else T=v(T)?!!T.capture:!!T,p=ru(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(B=o.g[m],p=hn(B,p,T,x),-1<p&&(Ht(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ms(o))&&(m=o.g[m.toString()],o=-1,m&&(o=hn(m,p,T,x)),(p=-1<o?m[o]:null)&&xa(p))}function xa(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])si(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Cr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ms(m))?(si(p,o),p.h==0&&(p.src=null,m[Pi]=null)):Ht(o)}}}function Cr(o){return o in ki?ki[o]:ki[o]="on"+o}function Ec(o,m){if(o.da)o=!0;else{m=new Tt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&xa(o),o=p.call(T,m)}return o}function Ms(o){return o=o[Pi],o instanceof Qe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function pe(){rt.call(this),this.i=new Qe(this),this.M=this,this.F=null}Z(pe,rt),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(o,m,p,T){Dr(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var x=m;m=new tt(T,o),D(m,x)}if(x=!0,p)for(var B=p.length-1;0<=B;B--){var $=m.g=p[B];x=ui($,T,!0,m)&&x}if($=m.g=o,x=ui($,T,!0,m)&&x,x=ui($,T,!1,m)&&x,p)for(B=0;B<p.length;B++)$=m.g=p[B],x=ui($,T,!1,m)&&x}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ht(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function ui(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,B=0;B<m.length;++B){var $=m[B];if($&&!$.da&&$.capture==p){var It=$.listener,_e=$.ha||$.src;$.fa&&si(o.i,$),x=It.call(_e,T)!==!1&&x}}return x&&!T.defaultPrevented}function su(o,m,p){if(typeof o=="function")p&&(o=k(o,p));else if(o&&typeof o.handleEvent=="function")o=k(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Us(o){o.g=su(()=>{o.g=null,o.i&&(o.i=!1,Us(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Tc extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Us(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(o){rt.call(this),this.h=o,this.g={}}Z(La,rt);var Bi=[];function Be(o){Ut(o.g,function(m,p){this.g.hasOwnProperty(p)&&xa(m)},o),o.g={}}La.prototype.N=function(){La.aa.N.call(this),Be(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=g.JSON.stringify,Pn=g.JSON.parse,Ke=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ls(){}Ls.prototype.h=null;function lu(o){return o.h||(o.h=o.i())}function uu(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){tt.call(this,"d")}Z(qi,tt);function Vn(){tt.call(this,"c")}Z(Vn,tt);var dn={},Hi=null;function Ir(){return Hi=Hi||new pe}dn.La="serverreachability";function zs(o){tt.call(this,dn.La,o)}Z(zs,tt);function ji(o){const m=Ir();Re(m,new zs(m))}dn.STAT_EVENT="statevent";function Vr(o,m){tt.call(this,dn.STAT_EVENT,o),this.stat=m}Z(Vr,tt);function se(o){const m=Ir();Re(m,new Vr(m,o))}dn.Ma="timingevent";function ou(o,m){tt.call(this,dn.Ma,o),this.size=m}Z(ou,tt);function Gi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Fi(){this.g=!0}Fi.prototype.xa=function(){this.g=!1};function cu(o,m,p,T,x,B){o.info(function(){if(o.g)if(B)for(var $="",It=B.split("&"),_e=0;_e<It.length;_e++){var Vt=It[_e].split("=");if(1<Vt.length){var Ce=Vt[0];Vt=Vt[1];var ve=Ce.split("_");$=2<=ve.length&&ve[1]=="type"?$+(Ce+"="+Vt+"&"):$+(Ce+"=redacted&")}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+p+`
`+$})}function fu(o,m,p,T,x,B,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+p+`
`+B+" "+$})}function Qi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function Bn(o,m){o.info(function(){return"TIMEOUT: "+m})}Fi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var B=x[0];if(B!="noop"&&B!="stop"&&B!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return xs(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},za;function Or(){}Z(Or,Ls),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},za=new Or;function qn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new La(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var Ki={},Pa={};function On(o,m,p){o.L=1,o.v=qa(ne(m)),o.m=p,o.P=!0,ci(o,null)}function ci(o,m){o.F=Date.now(),Zt(o),o.A=ne(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),di(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Ps,o.g=Ru(o.j,p?m:null,!o.m),0<o.O&&(o.M=new Tc(k(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Bi[0]=x.toString()),x=Bi);for(var B=0;B<x.length;B++){var $=li(p,x[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ji(),cu(o.i,o.u,o.A,o.l,o.R,o.m)}qn.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},qn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=yi?ji(3):ji(2)),Nr(this);var p=this.g.Z();this.X=p;e:if(Yi(this)){var T=yu(this.g);o="";var x=T.length,B=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),an(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(B&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,fu(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,_e=this.g;if((It=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(It)){var Vt=It;break e}}Vt=null}if(p=Vt)Qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,p);else{this.o=!1,this.s=3,se(12),We(this),an(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=Xi(this,$),Me==Pa){ve==4&&(this.s=4,se(14),p=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ki){this.s=4,se(15),Qi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Qi(this.i,this.l,Me,null),rn(this,Me);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||$.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)Qi(this.i,this.l,$,"[Invalid Chunked Response]"),We(this),an(this);else if(0<$.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Ya(Ce),Ce.M=!0,se(11))}}else Qi(this.i,this.l,$,null),rn(this,$);ve==4&&We(this),this.o&&!this.J&&(ve==4?Au(this.j,this):(this.o=!1,Zt(this)))}else Dc(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),an(this)}}}catch{}finally{}};function Yi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Xi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Pa:(p=Number(m.substring(p,T)),isNaN(p)?Ki:(T+=1,T+p>m.length?Pa:(m=m.slice(T,T+p),o.C=T+p,m)))}qn.prototype.cancel=function(){this.J=!0,We(this)};function Zt(o){o.S=Date.now()+o.I,ks(o,o.I)}function ks(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Gi(k(o.ba,o),m)}function Nr(o){o.B&&(g.clearTimeout(o.B),o.B=null)}qn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bn(this.i,this.A),this.L!=2&&(ji(),se(17)),We(this),this.s=2,an(this)):ks(this,this.S-o)};function an(o){o.j.G==0||o.J||Au(o.j,o)}function We(o){Nr(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Be(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function rn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||$i(p.h,o))){if(!o.K&&$i(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Hr(p),Br(p);else break t;$s(p),se(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Gi(k(p.Za,p),6e3));if(1>=hu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else pi(p,11)}else if((o.K||p.g==o)&&Hr(p),!dt(m))for(x=p.Da.g.parse(m),m=0;m<x.length;m++){let Vt=x[m];if(p.T=Vt[0],Vt=Vt[1],p.G==2)if(Vt[0]=="c"){p.K=Vt[1],p.ia=Vt[2];const Ce=Vt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=Vt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const yi=Vt[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var B=T.h;B.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Zi(B,B.h),B.h=null))}if(T.D){const Js=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(T.ya=Js,Lt(T.I,T.D,Js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=o;if(T.qa=bu(T,T.J?T.ia:null,T.W),$.K){mn(T.h,$);var It=$,_e=T.L;_e&&(It.I=_e),It.B&&(Nr(It),Zt(It)),T.g=$}else Eu(T);0<p.i.length&&qr(p)}else Vt[0]!="stop"&&Vt[0]!="close"||pi(p,7);else p.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?pi(p,7):Ys(p):Vt[0]!="noop"&&p.l&&p.l.ta(Vt),p.v=0)}}ji(4)}catch{}}var Ac=class{constructor(o,m){this.g=o,this.map=m}};function Bs(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function hu(o){return o.h?1:o.g?o.g.size:0}function $i(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Zi(o,m){o.g?o.g.add(m):o.h=m}function mn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Bs.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ye(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return W(o.i)}function du(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function Sc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function ka(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=Sc(o),T=du(o),x=T.length,B=0;B<x;B++)m.call(void 0,T[B],p&&p[B],o)}var Hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mr(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),x=null;if(0<=T){var B=o[p].substring(0,T);x=o[p].substring(T+1)}else B=o[p];m(B,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function fi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fi){this.h=o.h,Ji(this,o.j),this.o=o.o,this.g=o.g,Ba(this,o.s),this.l=o.l;var m=o.i,p=new Hn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ur(this,p),this.m=o.m}else o&&(m=String(o).match(Hs))?(this.h=!1,Ji(this,m[1]||"",!0),this.o=Wi(m[2]||""),this.g=Wi(m[3]||"",!0),Ba(this,m[4]),this.l=Wi(m[5]||"",!0),Ur(this,m[6]||"",!0),this.m=Wi(m[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}fi.prototype.toString=function(){var o=[],m=this.j;m&&o.push(gn(m,js,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(gn(m,js,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(gn(p,p.charAt(0)=="/"?Gs:mu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",gn(p,wc)),o.join("")};function ne(o){return new fi(o)}function Ji(o,m,p){o.j=p?Wi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ba(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ur(o,m,p){m instanceof Hn?(o.i=m,Fs(o.i,o.h)):(p||(m=gn(m,Rc)),o.i=new Hn(m,o.h))}function Lt(o,m,p){o.i.set(m,p)}function qa(o){return Lt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Wi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function gn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,bc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function bc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var js=/[#\/\?@]/g,mu=/[#\?:]/g,Gs=/[#\?]/g,Rc=/[#\?@]/g,wc=/#/g;function Hn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&Mr(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Hn.prototype,r.add=function(o,m){pn(this),this.i=null,o=mi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function xr(o,m){pn(o),m=mi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return pn(o),m=mi(o,m),o.g.has(m)}r.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(x){o.call(m,x,T,this)},this)},this)},r.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const x=o[T];for(let B=0;B<x.length;B++)p.push(m[T])}return p},r.V=function(o){pn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(mi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},r.set=function(o,m){return pn(this),this.i=null,o=mi(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function di(o,m,p){xr(o,m),0<p.length&&(o.i=null,o.g.set(mi(o,m),W(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const B=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var x=B;$[T]!==""&&(x+="="+encodeURIComponent(String($[T]))),o.push(x)}}return this.i=o.join("&")};function mi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Fs(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var x=T.toLowerCase();T!=x&&(xr(this,T),di(this,x,p))},o)),o.j=m}function gu(o,m){const p=new Fi;if(g.Image){const T=new Image;T.onload=q(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=q(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=q(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Ha(o,m){const p=new Fi,T=new AbortController,x=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(B=>{clearTimeout(x),B.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(p)}catch{}}function ja(){this.g=new Ke}function jn(o,m,p){const T=p||"";try{ka(o,function(x,B){let $=x;v(x)&&($=xs(x)),m.push(T+B+"="+encodeURIComponent($))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function ta(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(ta,Ls),ta.prototype.g=function(){return new gi(this.l,this.j)},ta.prototype.i=function(o){return function(){return o}}({});function gi(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(gi,pe),r=gi.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Fn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gn(this):Fn(this),this.readyState==3&&Qs(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},r.Qa=function(o){this.g&&(this.response=o,Gn(this))},r.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Fn(o)}r.setRequestHeader=function(o,m){this.u.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Fn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ks(o){let m="";return Ut(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ks(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Lt(o,m,p))}function Bt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,pe);var Lr=/^https?$/i,Ga=["POST","PUT"];r=Bt.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():za.g(),this.v=this.o?lu(this.o):lu(za),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(B){pu(this,B);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)p.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())p.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),x=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ga,m,void 0))||T||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of p)this.g.setRequestHeader(B,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(o),this.u=!1}catch(B){pu(this,B)}};function pu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,zr(o),Qn(o)}function zr(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Pr(this):this.bb())},r.bb=function(){Pr(this)};function Pr(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)su(o.Ea,0,o);else if(Re(o,"readystatechange"),_n(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var x=String(o.D).match(Hs)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!Lr.test(x?x.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var B=2<_n(o)?o.g.statusText:""}catch{B=""}o.l=B+" ["+o.Z()+"]",zr(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Fa(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function Fa(o){o.I&&(g.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Pn(m)}};function yu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var p=O(o[T]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[x]||[];m[x]=B,B.push(p)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function kr(o){this.Aa=0,this.i=[],this.j=new Fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,o),this.cb=Qa("retryDelaySeedMs",1e4,o),this.Wa=Qa("forwardChannelMaxRetries",2,o),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(o&&o.concurrentRequestLimit),this.Da=new ja,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=kr.prototype,r.la=8,r.G=1,r.connect=function(o,m,p,T){se(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=bu(this,null,this.W),qr(this)};function Ys(o){if(_u(o),o.G==3){var m=o.U++,p=ne(o.I);if(Lt(p,"SID",o.K),Lt(p,"RID",m),Lt(p,"TYPE","terminate"),Ka(o,p),m=new qn(o,o.j,m),m.L=2,m.v=qa(ne(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}Su(o)}function Br(o){o.g&&(Ya(o),o.g.cancel(),o.g=null)}function _u(o){Br(o),o.u&&(g.clearTimeout(o.u),o.u=null),Hr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function qr(o){if(!qs(o.h)&&!o.s){o.s=!0;var m=o.Ga;ft||C(),lt||(ft(),lt=!0),kt.add(m,o),o.B=0}}function Cc(o,m){return hu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Gi(k(o.Ga,o,m),Zs(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new qn(this,this.j,o);let B=this.o;if(this.S&&(B?(B=R(B),D(B,this.S)):B=this.S),this.m!==null||this.O||(x.H=B,B=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=vu(this,x,m),p=ne(this.I),Lt(p,"RID",o),Lt(p,"CVER",22),this.D&&Lt(p,"X-HTTP-Session-Id",this.D),Ka(this,p),B&&(this.O?m="headers="+encodeURIComponent(String(Ks(B)))+"&"+m:this.m&&De(p,this.m,B)),Zi(this.h,x),this.Ua&&Lt(p,"TYPE","init"),this.P?(Lt(p,"$req",m),Lt(p,"SID","null"),x.T=!0,On(x,p,null)):On(x,p,m),this.G=2}}else this.G==3&&(o?Xs(this,o):this.i.length==0||qs(this.h)||Xs(this))};function Xs(o,m){var p;m?p=m.l:p=o.U++;const T=ne(o.I);Lt(T,"SID",o.K),Lt(T,"RID",p),Lt(T,"AID",o.T),Ka(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new qn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=vu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Zi(o.h,p),On(p,T,m)}function Ka(o,m){o.H&&Ut(o.H,function(p,T){Lt(m,T,p)}),o.l&&ka({},function(p,T){Lt(m,T,p)})}function vu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?k(o.l.Na,o.l,o):null;t:{var x=o.i;let B=-1;for(;;){const $=["count="+p];B==-1?0<p?(B=x[0].g,$.push("ofs="+B)):B=0:$.push("ofs="+B);let It=!0;for(let _e=0;_e<p;_e++){let Vt=x[_e].g;const Ce=x[_e].map;if(Vt-=B,0>Vt)B=Math.max(0,x[_e].g-100),It=!1;else try{jn(Ce,$,"req"+Vt+"_")}catch{T&&T(Ce)}}if(It){T=$.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function Eu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ft||C(),lt||(ft(),lt=!0),kt.add(m,o),o.v=0}}function $s(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Gi(k(o.Fa,o),Zs(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Gi(k(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Br(this),Tu(this))};function Ya(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Tu(o){o.g=new qn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ne(o.qa);Lt(m,"RID","rpc"),Lt(m,"SID",o.K),Lt(m,"AID",o.T),Lt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Lt(m,"TO",o.ja),Lt(m,"TYPE","xmlhttp"),Ka(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=qa(ne(m)),p.m=null,p.P=!0,ci(p,o)}r.Za=function(){this.C!=null&&(this.C=null,Br(this),$s(this),se(19))};function Hr(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Au(o,m){var p=null;if(o.g==m){Hr(o),Ya(o),o.g=null;var T=2}else if($i(o.h,m))p=m.D,mn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=Ir(),Re(T,new ou(T,p)),qr(o)}else Eu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&Cc(o,m)||T==2&&$s(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),x){case 1:pi(o,5);break;case 4:pi(o,10);break;case 3:pi(o,6);break;default:pi(o,2)}}}function Zs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function pi(o,m){if(o.j.info("Error code "+m),m==2){var p=k(o.fb,o),T=o.Xa;const x=!T;T=new fi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ji(T,"https"),qa(T),x?gu(T.toString(),p):Ha(T.toString(),p)}else se(2);o.G=0,o.l&&o.l.sa(m),Su(o),_u(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Su(o){if(o.G=0,o.ka=[],o.l){const m=Ye(o.h);(m.length!=0||o.i.length!=0)&&(X(o.ka,m),X(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function bu(o,m,p){var T=p instanceof fi?ne(p):new fi(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ba(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var B=new fi(null);T&&Ji(B,T),m&&(B.g=m),x&&Ba(B,x),p&&(B.l=p),T=B}return p=o.D,m=o.ya,p&&m&&Lt(T,p,m),Lt(T,"VER",o.la),Ka(o,T),T}function Ru(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new ta({eb:p})):new Bt(o.pa),m.Ha(o.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function jr(){}jr.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){pe.call(this),this.g=new kr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Kn(this)}Z(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Ys(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=xs(o),o=p);m.i.push(new Ac(m.Ya++,o)),m.G==3&&qr(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,Xe.aa.N.call(this)};function Du(o){qi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Du,qi);function Cu(){Vn.call(this),this.status=1}Z(Cu,Vn);function Kn(o){this.g=o}Z(Kn,wu),Kn.prototype.ua=function(){Re(this.g,"a")},Kn.prototype.ta=function(o){Re(this.g,new Du(o))},Kn.prototype.sa=function(o){Re(this.g,new Cu)},Kn.prototype.ra=function(){Re(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,M_=function(){return new jr},N_=function(){return Ir()},O_=dn,qh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Mo=ye,oi.COMPLETE="complete",V_=oi,uu.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,kl=uu,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,I_=Bt}).apply(typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{});const hy="@firebase/firestore",dy="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new ld("@firebase/firestore");function ps(){return _r.logLevel}function nt(r,...e){if(_r.logLevel<=Mt.DEBUG){const i=e.map(od);_r.debug(`Firestore (${Cs}): ${r}`,...i)}}function Li(r,...e){if(_r.logLevel<=Mt.ERROR){const i=e.map(od);_r.error(`Firestore (${Cs}): ${r}`,...i)}}function Ts(r,...e){if(_r.logLevel<=Mt.WARN){const i=e.map(od);_r.warn(`Firestore (${Cs}): ${r}`,...i)}}function od(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(r="Unexpected state"){const e=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: `+r;throw Li(e),new Error(e)}function qt(r,e){r||ht()}function pt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ua{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class BA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class qA{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let s=this.i;const u=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new Ra;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ra,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=f;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ra)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string"),new U_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Ge(e)}}class HA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new HA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,RA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const s=f=>{f.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const u=f=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new my(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new my(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=FA(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+=e.charAt(u[f]%62))}return s}}function wt(r,e){return r<e?-1:r>e?1:0}function jh(r,e){const i=Hh().encode(r),s=Hh().encode(e);for(let u=0;u<Math.min(i.length,s.length);u++){const f=wt(i[u],s[u]);if(f!==0)return f}return wt(i.length,s.length)}function As(r,e,i){return r.length===e.length&&r.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-62135596800,py=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*py);return new Se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<gy)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/py}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Se(0,0))}static max(){return new mt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&ht(),s===void 0?s=e.length-i:s>e.length-i&&ht(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const f=ti.compareSegments(e.get(u),i.get(u));if(f!==0)return f}return wt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),u=ti.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):jh(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class $t extends ti{construct(e,i,s){return new $t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const QA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends ti{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return QA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yy}static keyField(){return new Pe([yy])}static fromServerFormat(e){const i=[];let s="",u=0;const f=()=>{if(s.length===0)throw new ut(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ut(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(f(),u++)}if(f(),d)throw new ut(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot($t.fromString(e))}static fromName(e){return new ot($t.fromString(e).popFirst(5))}static empty(){return new ot($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new $t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function KA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=mt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new Ca(u,ot.empty(),e)}function YA(r){return new Ca(r.readTime,r.key,Yl)}class Ca{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ca(mt.min(),ot.empty(),Yl)}static max(){return new Ca(mt.max(),ot.empty(),Yl)}}function XA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(r.documentKey,e.documentKey),i!==0?i:wt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==$A)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,s)=>{i(e)})}static reject(e){return new F((i,s)=>{s(e)})}static waitFor(e){return new F((i,s)=>{let u=0,f=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++f,d&&f===u&&i()},_=>s(_))}),d=!0,f===u&&i()})}static or(e){let i=F.resolve(!1);for(const s of e)i=i.next(u=>u?F.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(e,i){return new F((s,u)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next(b=>{d[v]=b,++g,g===f&&s(d)},b=>u(b))}})}static doWhile(e,i){return new F((s,u)=>{const f=()=>{e()===!0?i().next(()=>{f()},u):s()};f()})}}function JA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ac.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=-1;function rc(r){return r==null}function Ho(r){return r===0&&1/r==-1/0}function WA(r){return typeof r=="number"&&Number.isInteger(r)&&!Ho(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="";function tS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=_y(e)),e=eS(r.get(i),e);return _y(e)}function eS(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const f=r.charAt(u);switch(f){case"\0":i+="";break;case L_:i+="";break;default:i+=f}}return i}function _y(r){return r+L_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ar(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function z_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Co(this.root,e,this.comparator,!1)}getReverseIterator(){return new Co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Co(this.root,e,this.comparator,!0)}}class Co{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,u,f){this.key=e,this.value=i,this.color=s??ze.RED,this.left=u??ze.EMPTY,this.right=f??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,f){return new ze(e??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,s),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(e,i,s,u,f){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ey(this.data.getIterator())}getIteratorFrom(e){return new Ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Ey{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new be(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new P_("Invalid base64 string: "+f):f}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const nS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(r){if(qt(!!r),typeof r=="string"){let e=0;const i=nS.exec(r);if(qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Va(r){return typeof r=="string"?ke.fromBase64String(r):ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="server_timestamp",B_="__type__",q_="__previous_value__",H_="__local_write_time__";function fd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[B_])===null||i===void 0?void 0:i.stringValue)===k_}function sc(r){const e=r.mapValue.fields[q_];return fd(e)?sc(e):e}function Xl(r){const e=Ia(r.mapValue.fields[H_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i,s,u,f,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const jo="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||jo}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===jo}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="__type__",aS="__max__",Io={mapValue:{}},G_="__vector__",Go="value";function Oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fd(r)?4:sS(r)?9007199254740991:rS(r)?10:11:ht()}function ai(r,e){if(r===e)return!0;const i=Oa(r);if(i!==Oa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xl(r).isEqual(Xl(e));case 3:return function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Ia(u.timestampValue),g=Ia(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(u,f){return Va(u.bytesValue).isEqual(Va(f.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(u,f){return ue(u.geoPointValue.latitude)===ue(f.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(f.geoPointValue.longitude)}(r,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return ue(u.integerValue)===ue(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=ue(u.doubleValue),g=ue(f.doubleValue);return d===g?Ho(d)===Ho(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return As(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(u,f){const d=u.mapValue.fields||{},g=f.mapValue.fields||{};if(vy(d)!==vy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ai(d[_],g[_])))return!1;return!0}(r,e);default:return ht()}}function Zl(r,e){return(r.values||[]).find(i=>ai(i,e))!==void 0}function Ss(r,e){if(r===e)return 0;const i=Oa(r),s=Oa(e);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,e.booleanValue);case 2:return function(f,d){const g=ue(f.integerValue||f.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return Ty(r.timestampValue,e.timestampValue);case 4:return Ty(Xl(r),Xl(e));case 5:return jh(r.stringValue,e.stringValue);case 6:return function(f,d){const g=Va(f),_=Va(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const b=wt(g[v],_[v]);if(b!==0)return b}return wt(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(f,d){const g=wt(ue(f.latitude),ue(d.latitude));return g!==0?g:wt(ue(f.longitude),ue(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ay(r.arrayValue,e.arrayValue);case 10:return function(f,d){var g,_,v,b;const N=f.fields||{},k=d.fields||{},q=(g=N[Go])===null||g===void 0?void 0:g.arrayValue,Z=(_=k[Go])===null||_===void 0?void 0:_.arrayValue,W=wt(((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0,((b=Z==null?void 0:Z.values)===null||b===void 0?void 0:b.length)||0);return W!==0?W:Ay(q,Z)}(r.mapValue,e.mapValue);case 11:return function(f,d){if(f===Io.mapValue&&d===Io.mapValue)return 0;if(f===Io.mapValue)return 1;if(d===Io.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},b=Object.keys(v);_.sort(),b.sort();for(let N=0;N<_.length&&N<b.length;++N){const k=jh(_[N],b[N]);if(k!==0)return k;const q=Ss(g[_[N]],v[b[N]]);if(q!==0)return q}return wt(_.length,b.length)}(r.mapValue,e.mapValue);default:throw ht()}}function Ty(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return wt(r,e);const i=Ia(r),s=Ia(e),u=wt(i.seconds,s.seconds);return u!==0?u:wt(i.nanos,s.nanos)}function Ay(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=Ss(i[u],s[u]);if(f)return f}return wt(i.length,s.length)}function bs(r){return Gh(r)}function Gh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ia(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Va(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ot.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=Gh(f);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of s)f?f=!1:u+=",",u+=`${d}:${Gh(i.fields[d])}`;return u+"}"}(r.mapValue):ht()}function Uo(r){switch(Oa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(r);return e?16+Uo(e):16;case 5:return 2*r.stringValue.length;case 6:return Va(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,f)=>u+Uo(f),0)}(r.arrayValue);case 10:case 11:return function(s){let u=0;return Ar(s.fields,(f,d)=>{u+=f.length+Uo(d)}),u}(r.mapValue);default:throw ht()}}function Fh(r){return!!r&&"integerValue"in r}function hd(r){return!!r&&"arrayValue"in r}function Sy(r){return!!r&&"nullValue"in r}function by(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xo(r){return!!r&&"mapValue"in r}function rS(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[j_])===null||i===void 0?void 0:i.stringValue)===G_}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ar(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Hl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function sS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===aS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!xo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=Pe.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Hl(d):u.push(g.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(e){const i=this.field(e.popLast());xo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];xo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Ar(i,(u,f)=>e[u]=f);for(const u of s)delete e[u]}clone(){return new In(Hl(this.value))}}function F_(r){const e=[];return Ar(r.fields,(i,s)=>{const u=new Pe([i]);if(xo(s)){const f=F_(s.mapValue).fields;if(f.length===0)e.push(u);else for(const d of f)e.push(u.child(d))}else e.push(u)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,u,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,mt.min(),mt.min(),mt.min(),In.empty(),0)}static newFoundDocument(e,i,s,u){return new Fe(e,1,i,mt.min(),s,u,0)}static newNoDocument(e,i){return new Fe(e,2,i,mt.min(),mt.min(),In.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,mt.min(),mt.min(),In.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i){this.position=e,this.inclusive=i}}function Ry(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const f=e[u],d=r.position[u];if(f.field.isKeyField()?s=ot.comparator(ot.fromName(d.referenceValue),i.key):s=Ss(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function wy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i="asc"){this.field=e,this.dir=i}}function lS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{}class Ae extends Q_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new oS(e,i,s):i==="array-contains"?new hS(e,s):i==="in"?new dS(e,s):i==="not-in"?new mS(e,s):i==="array-contains-any"?new gS(e,s):new Ae(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new cS(e,s):new fS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ss(i,this.value)):i!==null&&Oa(this.value)===Oa(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Q_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return K_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function K_(r){return r.op==="and"}function Y_(r){return uS(r)&&K_(r)}function uS(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Qh(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+bs(r.value);if(Y_(r))return r.filters.map(e=>Qh(e)).join(",");{const e=r.filters.map(i=>Qh(i)).join(",");return`${r.op}(${e})`}}function X_(r,e){return r instanceof Ae?function(s,u){return u instanceof Ae&&s.op===u.op&&s.field.isEqual(u.field)&&ai(s.value,u.value)}(r,e):r instanceof ri?function(s,u){return u instanceof ri&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((f,d,g)=>f&&X_(d,u.filters[g]),!0):!1}(r,e):void ht()}function $_(r){return r instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`}(r):r instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map($_).join(" ,")+"}"}(r):"Filter"}class oS extends Ae{constructor(e,i,s){super(e,i,s),this.key=ot.fromName(s.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class cS extends Ae{constructor(e,i){super(e,"in",i),this.keys=Z_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class fS extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=Z_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Z_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ot.fromName(s.referenceValue))}class hS extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hd(i)&&Zl(i.arrayValue,this.value)}}class dS extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class mS extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Zl(this.value.arrayValue,i)}}class gS extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i=null,s=[],u=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=d,this.endAt=g,this.le=null}}function Dy(r,e=null,i=[],s=[],u=null,f=null,d=null){return new pS(r,e,i,s,u,f,d)}function dd(r){const e=pt(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Qh(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>bs(s)).join(",")),e.le=i}return e.le}function md(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!lS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!X_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wy(r.startAt,e.startAt)&&wy(r.endAt,e.endAt)}function Kh(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i=null,s=[],u=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yS(r,e,i,s,u,f,d,g){return new lc(r,e,i,s,u,f,d,g)}function J_(r){return new lc(r)}function Cy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _S(r){return r.collectionGroup!==null}function jl(r){const e=pt(r);if(e.he===null){e.he=[];const i=new Set;for(const f of e.explicitOrderBy)e.he.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.he.push(new Qo(f,s))}),i.has(Pe.keyField().canonicalString())||e.he.push(new Qo(Pe.keyField(),s))}return e.he}function ni(r){const e=pt(r);return e.Pe||(e.Pe=vS(e,jl(r))),e.Pe}function vS(r,e){if(r.limitType==="F")return Dy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(u=>{const f=u.dir==="desc"?"asc":"desc";return new Qo(u.field,f)});const i=r.endAt?new Fo(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fo(r.startAt.position,r.startAt.inclusive):null;return Dy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Yh(r,e,i){return new lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function uc(r,e){return md(ni(r),ni(e))&&r.limitType===e.limitType}function W_(r){return`${dd(ni(r))}|lt:${r.limitType}`}function ys(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>$_(u)).join(", ")}]`),rc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>bs(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>bs(u)).join(",")),`Target(${s})`}(ni(r))}; limitType=${r.limitType})`}function oc(r,e){return e.isFoundDocument()&&function(s,u){const f=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ot.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(r,e)&&function(s,u){for(const f of jl(s))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0}(r,e)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(r,e)&&function(s,u){return!(s.startAt&&!function(d,g,_){const v=Ry(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,jl(s),u)||s.endAt&&!function(d,g,_){const v=Ry(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,jl(s),u))}(r,e)}function ES(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tv(r){return(e,i)=>{let s=!1;for(const u of jl(r)){const f=TS(u,e,i);if(f!==0)return f;s=s||u.field.isKeyField()}return 0}}function TS(r,e,i){const s=r.field.isKeyField()?ot.comparator(e.key,i.key):function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?Ss(_,v):ht()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ht()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,f]of s)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,(i,s)=>{for(const[u,f]of s)e(u,f)})}isEmpty(){return z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new te(ot.comparator);function zi(){return AS}const ev=new te(ot.comparator);function Bl(...r){let e=ev;for(const i of r)e=e.insert(i.key,i);return e}function nv(r){let e=ev;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function gr(){return Gl()}function iv(){return Gl()}function Gl(){return new Sr(r=>r.toString(),(r,e)=>r.isEqual(e))}const SS=new te(ot.comparator),bS=new be(ot.comparator);function Dt(...r){let e=bS;for(const i of r)e=e.add(i);return e}const RS=new be(wt);function wS(){return RS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ho(e)?"-0":e}}function av(r){return{integerValue:""+r}}function DS(r,e){return WA(e)?av(e):gd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this._=void 0}}function CS(r,e,i){return r instanceof Ko?function(u,f){const d={fields:{[B_]:{stringValue:k_},[H_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&fd(f)&&(f=sc(f)),f&&(d.fields[q_]=f),{mapValue:d}}(i,e):r instanceof Jl?sv(r,e):r instanceof Wl?lv(r,e):function(u,f){const d=rv(u,f),g=Iy(d)+Iy(u.Ie);return Fh(d)&&Fh(u.Ie)?av(g):gd(u.serializer,g)}(r,e)}function IS(r,e,i){return r instanceof Jl?sv(r,e):r instanceof Wl?lv(r,e):i}function rv(r,e){return r instanceof Yo?function(s){return Fh(s)||function(f){return!!f&&"doubleValue"in f}(s)}(e)?e:{integerValue:0}:null}class Ko extends cc{}class Jl extends cc{constructor(e){super(),this.elements=e}}function sv(r,e){const i=uv(e);for(const s of r.elements)i.some(u=>ai(u,s))||i.push(s);return{arrayValue:{values:i}}}class Wl extends cc{constructor(e){super(),this.elements=e}}function lv(r,e){let i=uv(e);for(const s of r.elements)i=i.filter(u=>!ai(u,s));return{arrayValue:{values:i}}}class Yo extends cc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Iy(r){return ue(r.integerValue||r.doubleValue)}function uv(r){return hd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function VS(r,e){return r.field.isEqual(e.field)&&function(s,u){return s instanceof Jl&&u instanceof Jl||s instanceof Wl&&u instanceof Wl?As(s.elements,u.elements,ai):s instanceof Yo&&u instanceof Yo?ai(s.Ie,u.Ie):s instanceof Ko&&u instanceof Ko}(r.transform,e.transform)}class OS{constructor(e,i){this.version=e,this.transformResults=i}}class Mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fc{}function ov(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fv(r.key,Mi.none()):new eu(r.key,r.data,Mi.none());{const i=r.data,s=In.empty();let u=new be(Pe.comparator);for(let f of e.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),u=u.add(f)}return new br(r.key,s,new Ln(u.toArray()),Mi.none())}}function NS(r,e,i){r instanceof eu?function(u,f,d){const g=u.value.clone(),_=Oy(u.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof br?function(u,f,d){if(!Lo(u.precondition,f))return void f.convertToUnknownDocument(d.version);const g=Oy(u.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(cv(u)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(r,e,i,s){return r instanceof eu?function(f,d,g,_){if(!Lo(f.precondition,d))return g;const v=f.value.clone(),b=Ny(f.fieldTransforms,_,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,s):r instanceof br?function(f,d,g,_){if(!Lo(f.precondition,d))return g;const v=Ny(f.fieldTransforms,_,d),b=d.data;return b.setAll(cv(f)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(N=>N.field))}(r,e,i,s):function(f,d,g){return Lo(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function MS(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),f=rv(s.transform,u||null);f!=null&&(i===null&&(i=In.empty()),i.set(s.field,f))}return i||null}function Vy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&As(s,u,(f,d)=>VS(f,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends fc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class br extends fc{constructor(e,i,s,u,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function cv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function Oy(r,e,i){const s=new Map;qt(r.length===i.length);for(let u=0;u<i.length;u++){const f=r[u],d=f.transform,g=e.data.field(f.field);s.set(f.field,IS(d,g,i[u]))}return s}function Ny(r,e,i){const s=new Map;for(const u of r){const f=u.transform,d=i.data.field(u.field);s.set(u.field,CS(f,d,e))}return s}class fv extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class US extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&NS(f,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=iv();return this.mutations.forEach(u=>{const f=e.get(u.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(u.key)?null:g;const _=ov(d,g);_!==null&&s.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,s)=>Vy(i,s))&&As(this.baseMutations,e.baseMutations,(i,s)=>Vy(i,s))}}class pd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){qt(e.mutations.length===s.length);let u=function(){return SS}();const f=e.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,s[d].version);return new pd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Nt;function PS(r){switch(r){case K.OK:return ht();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ht()}}function hv(r){if(r===void 0)return Li("GRPC error has no .code"),K.UNKNOWN;switch(r){case me.OK:return K.OK;case me.CANCELLED:return K.CANCELLED;case me.UNKNOWN:return K.UNKNOWN;case me.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case me.INTERNAL:return K.INTERNAL;case me.UNAVAILABLE:return K.UNAVAILABLE;case me.UNAUTHENTICATED:return K.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case me.NOT_FOUND:return K.NOT_FOUND;case me.ALREADY_EXISTS:return K.ALREADY_EXISTS;case me.PERMISSION_DENIED:return K.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case me.ABORTED:return K.ABORTED;case me.OUT_OF_RANGE:return K.OUT_OF_RANGE;case me.UNIMPLEMENTED:return K.UNIMPLEMENTED;case me.DATA_LOSS:return K.DATA_LOSS;default:return ht()}}(Nt=me||(me={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new ba([4294967295,4294967295],0);function My(r){const e=Hh().encode(r),i=new C_;return i.update(e),new Uint8Array(i.digest())}function Uy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new ba([i,s],0),new ba([u,f],0)]}class yd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=ba.fromNumber(this.Ee)}Ae(e,i,s){let u=e.add(i.multiply(ba.fromNumber(s)));return u.compare(kS)===1&&(u=new ba([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=My(e),[s,u]=Uy(i);for(let f=0;f<this.hashCount;f++){const d=this.Ae(s,u,f);if(!this.Re(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new yd(f,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=My(e),[s,u]=Uy(i);for(let f=0;f<this.hashCount;f++){const d=this.Ae(s,u,f);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,s,u,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new hc(mt.min(),u,new te(wt),zi(),Dt())}}class nu{constructor(e,i,s,u,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new nu(s,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,i,s,u){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=u}}class dv{constructor(e,i){this.targetId=e,this.ge=i}}class mv{constructor(e,i,s=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class xy{constructor(){this.pe=0,this.ye=Ly(),this.we=ke.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Dt(),i=Dt(),s=Dt();return this.ye.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:ht()}}),new nu(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=Ly()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=zi(),this.$e=Vo(),this.Ue=Vo(),this.Ke=new te(wt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:ht()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,s=e.ge.count,u=this.Xe(i);if(u){const f=u.target;if(Kh(f))if(s===0){const d=new ot(f.path);this.ze(i,d,Fe.newNoDocument(d,mt.min()))}else qt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let d,g;try{d=Va(s).toUint8Array()}catch(_){if(_ instanceof P_)return Ts("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new yd(d,u,f)}catch(_){return Ts(_ instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let u=0;return s.forEach(f=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,f,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((f,d)=>{const g=this.Xe(d);if(g){if(f.current&&Kh(g.target)){const _=new ot(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Fe.newNoDocument(_,e))}f.ve&&(i.set(d,f.Fe()),f.Me())}});let s=Dt();this.Ue.forEach((f,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(f))}),this.Qe.forEach((f,d)=>d.setReadTime(e));const u=new hc(e,i,this.Ke,this.Qe,s);return this.Qe=zi(),this.$e=Vo(),this.Ue=Vo(),this.Ke=new te(wt),u}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new xy,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new be(wt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(wt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Vo(){return new te(ot.comparator)}function Ly(){return new te(ot.comparator)}const qS={asc:"ASCENDING",desc:"DESCENDING"},HS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jS={and:"AND",or:"OR"};class GS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Xh(r,e){return r.useProto3Json||rc(e)?e:{value:e}}function Xo(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function FS(r,e){return Xo(r,e.toTimestamp())}function ii(r){return qt(!!r),mt.fromTimestamp(function(i){const s=Ia(i);return new Se(s.seconds,s.nanos)}(r))}function _d(r,e){return $h(r,e).canonicalString()}function $h(r,e){const i=function(u){return new $t(["projects",u.projectId,"databases",u.database])}(r).child("documents");return e===void 0?i:i.child(e)}function pv(r){const e=$t.fromString(r);return qt(Tv(e)),e}function Zh(r,e){return _d(r.databaseId,e.path)}function Ih(r,e){const i=pv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ot(_v(i))}function yv(r,e){return _d(r.databaseId,e)}function QS(r){const e=pv(r);return e.length===4?$t.emptyPath():_v(e)}function Jh(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _v(r){return qt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function zy(r,e,i){return{name:Zh(r,e),fields:i.value.mapValue.fields}}function KS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ht()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],f=function(v,b){return v.useProto3Json?(qt(b===void 0||typeof b=="string"),ke.fromBase64String(b||"")):(qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array),ke.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const b=v.code===void 0?K.UNKNOWN:hv(v.code);return new ut(b,v.message||"")}(d);i=new mv(s,u,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Ih(r,s.document.name),f=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):mt.min(),g=new In({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(u,f,d,g),v=s.targetIds||[],b=s.removedTargetIds||[];i=new zo(v,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Ih(r,s.document),f=s.readTime?ii(s.readTime):mt.min(),d=Fe.newNoDocument(u,f),g=s.removedTargetIds||[];i=new zo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Ih(r,s.document),f=s.removedTargetIds||[];i=new zo([],f,u,null)}else{if(!("filter"in e))return ht();{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:f}=s,d=new zS(u,f),g=s.targetId;i=new dv(g,d)}}return i}function YS(r,e){let i;if(e instanceof eu)i={update:zy(r,e.key,e.value)};else if(e instanceof fv)i={delete:Zh(r,e.key)};else if(e instanceof br)i={update:zy(r,e.key,e.data),updateMask:ib(e.fieldMask)};else{if(!(e instanceof US))return ht();i={verify:Zh(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(f,d){const g=d.transform;if(g instanceof Ko)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw ht()}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,f){return f.updateTime!==void 0?{updateTime:FS(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:ht()}(r,e.precondition)),i}function XS(r,e){return r&&r.length>0?(qt(e!==void 0),r.map(i=>function(u,f){let d=u.updateTime?ii(u.updateTime):ii(f);return d.isEqual(mt.min())&&(d=ii(f)),new OS(d,u.transformResults||[])}(i,e))):[]}function $S(r,e){return{documents:[yv(r,e.path)]}}function ZS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=yv(r,u);const f=function(v){if(v.length!==0)return Ev(ri.create(v,"and"))}(e.filters);f&&(i.structuredQuery.where=f);const d=function(v){if(v.length!==0)return v.map(b=>function(k){return{field:_s(k.field),direction:tb(k.dir)}}(b))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Xh(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function JS(r){let e=QS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){qt(s===1);const b=i.from[0];b.allDescendants?u=b.collectionId:e=e.child(b.collectionId)}let f=[];i.where&&(f=function(N){const k=vv(N);return k instanceof ri&&Y_(k)?k.getFilters():[k]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(k=>function(Z){return new Qo(vs(Z.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(k))}(i.orderBy));let g=null;i.limit&&(g=function(N){let k;return k=typeof N=="object"?N.value:N,rc(k)?null:k}(i.limit));let _=null;i.startAt&&(_=function(N){const k=!!N.before,q=N.values||[];return new Fo(q,k)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const k=!N.before,q=N.values||[];return new Fo(q,k)}(i.endAt)),yS(e,u,d,f,g,"F",_,v)}function WS(r,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vs(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=vs(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=vs(i.unaryFilter.field);return Ae.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(r):r.fieldFilter!==void 0?function(i){return Ae.create(vs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(s=>vv(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ht()}}(i.compositeFilter.op))}(r):ht()}function tb(r){return qS[r]}function eb(r){return HS[r]}function nb(r){return jS[r]}function _s(r){return{fieldPath:r.canonicalString()}}function vs(r){return Pe.fromServerFormat(r.fieldPath)}function Ev(r){return r instanceof Ae?function(i){if(i.op==="=="){if(by(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NAN"}};if(Sy(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(by(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NAN"}};if(Sy(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(i.field),op:eb(i.op),value:i.value}}}(r):r instanceof ri?function(i){const s=i.getFilters().map(u=>Ev(u));return s.length===1?s[0]:{compositeFilter:{op:nb(i.op),filters:s}}}(r):ht()}function ib(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Tv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,i,s,u,f=mt.min(),d=mt.min(),g=ke.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.Tt=e}}function rb(r){const e=JS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.Tn=new lb}addToCollectionParentIndex(e,i){return this.Tn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(Ca.min())}updateCollectionGroup(e,i,s){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class lb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new be($t.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new be($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Av=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Av,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Rs(0)}static Kn(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LruGarbageCollector",ub=1048576;function By([r,e],[i,s]){const u=wt(r,i);return u===0?wt(e,s):u}class ob{constructor(e){this.Hn=e,this.buffer=new be(By),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();By(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(ky,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vs(i)?nt(ky,"Ignoring IndexedDB error during garbage collection: ",i):await Is(i)}await this.er(3e5)})}}class fb{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return F.resolve(ac.ae);const s=new ob(i);return this.tr.forEachTarget(e,u=>s.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>s.Zn(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Py)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Py):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,u,f,d,g,_,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),u=this.params.maximumSequenceNumbersToCollect):u=N,d=Date.now(),this.nthSequenceNumber(e,u))).next(N=>(s=N,g=Date.now(),this.removeTargets(e,s,i))).next(N=>(f=N,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(v=Date.now(),ps()<=Mt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${f} targets in `+(_-g)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-b}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:N})))}}function hb(r,e){return new fb(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.changes=new Sr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?F.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Fl(s.mutation,u,Ln.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Dt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Dt()){const u=gr();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(f=>{let d=Bl();return f.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=gr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Dt()))}populateOverlays(e,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let f=zi();const d=Gl(),g=function(){return Gl()}();return i.forEach((_,v)=>{const b=s.get(v.key);u.has(v.key)&&(b===void 0||b.mutation instanceof br)?f=f.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),Fl(b.mutation,v,b.mutation.getFieldMask(),Se.now())):d.set(v.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,f).next(_=>(_.forEach((v,b)=>d.set(v,b)),i.forEach((v,b)=>{var N;return g.set(v,new mb(b,(N=d.get(v))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Gl();let u=new te((d,g)=>d-g),f=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let b=s.get(_)||Ln.empty();b=g.applyToLocalView(v,b),s.set(_,b);const N=(u.get(g.batchId)||Dt()).add(_);u=u.insert(g.batchId,N)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,b=_.value,N=iv();b.forEach(k=>{if(!f.has(k)){const q=ov(i.get(k),s.get(k));q!==null&&N.set(k,q),f=f.add(k)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return F.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_S(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-f.size):F.resolve(gr());let g=Yl,_=f;return d.next(v=>F.forEach(v,(b,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),f.get(b)?F.resolve():this.remoteDocumentCache.getEntry(e,b).next(k=>{_=_.insert(b,k)}))).next(()=>this.populateOverlays(e,v,f)).next(()=>this.computeViews(e,_,v,Dt())).next(b=>({batchId:g,changes:nv(b)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(s=>{let u=Bl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const f=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,f).next(g=>F.forEach(g,_=>{const v=function(N,k){return new lc(k,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,s,u).next(b=>{b.forEach((N,k)=>{d=d.insert(N,k)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,u))).next(d=>{f.forEach((_,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,Fe.newInvalidDocument(b)))});let g=Bl();return d.forEach((_,v)=>{const b=f.get(_);b!==void 0&&Fl(b.mutation,v,Ln.empty(),Se.now()),oc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return F.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ii(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:rb(u.bundledQuery),readTime:ii(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.overlays=new te(ot.comparator),this.Rr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const s=gr();return F.forEach(i,u=>this.getOverlay(e,u).next(f=>{f!==null&&s.set(u,f)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,f)=>{this.Et(e,i,f)}),F.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Rr.get(s);return u!==void 0&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Rr.delete(s)),F.resolve()}getOverlaysForCollection(e,i,s){const u=gr(),f=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&u.set(_.getKey(),_)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let f=new te((v,b)=>v-b);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let b=f.get(v.largestBatchId);b===null&&(b=gr(),f=f.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=gr(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,b)=>g.set(v,b)),!(g.size()>=u)););return F.resolve(g)}Et(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(s.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new LS(i,s));let f=this.Rr.get(i);f===void 0&&(f=Dt(),this.Rr.set(i,f)),this.Rr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.Vr=new be(Ne.mr),this.gr=new be(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Ne(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Ne(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new ot(new $t([])),s=new Ne(i,e),u=new Ne(i,e+1),f=[];return this.gr.forEachInRange([s,u],d=>{this.wr(d),f.push(d.key)}),f}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new $t([])),s=new Ne(i,e),u=new Ne(i,e+1);let f=Dt();return this.gr.forEachInRange([s,u],d=>{f=f.add(d.key)}),f}containsKey(e){const i=new Ne(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ne{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||wt(e.Cr,i.Cr)}static pr(e,i){return wt(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ne.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const f=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xS(f,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Ne(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Nr(s),f=u<0?0:u;return F.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?cd:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),f=[];return this.Mr.forEachInRange([s,u],d=>{const g=this.Or(d.Cr);f.push(g)}),F.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new be(wt);return i.forEach(u=>{const f=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([f,d],g=>{s=s.add(g.Cr)})}),F.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let f=s;ot.isDocumentKey(f)||(f=f.child(""));const d=new Ne(new ot(f),0);let g=new be(wt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),F.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const u=this.Or(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return F.forEach(i.mutations,u=>{const f=new Ne(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Ne(i,0),u=this.Mr.firstAfterOrEqual(s);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.kr=e,this.docs=function(){return new te(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return F.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Fe.newInvalidDocument(u))}),F.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let f=zi();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:b}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||XA(YA(b),s)<=0||(u.has(b.key)||oc(i,b))&&(f=f.insert(b.key,b.mutableCopy()))}return F.resolve(f)}getAllFromCollectionGroup(e,i,s,u){ht()}qr(e,i){return F.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Tb(this)}getSize(e){return F.resolve(this.size)}}class Tb extends db{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(s)}),F.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.persistence=e,this.Qr=new Sr(i=>dd(i),md),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vd,this.targetCount=0,this.Kr=Rs.Un()}forEachTarget(e,i){return this.Qr.forEach((s,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),F.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.zn(i),F.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,s){let u=0;const f=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),F.waitFor(f).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return F.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),F.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(d=>{f.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),F.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return F.resolve(s)}containsKey(e,i){return F.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ac(0),this.zr=!1,this.zr=!0,this.jr=new _b,this.referenceDelegate=e(this),this.Hr=new Ab(this),this.indexManager=new sb,this.remoteDocumentCache=function(u){return new Eb(u)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new ab(i),this.Yr=new pb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new vb(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){nt("MemoryPersistence","Starting transaction:",e);const u=new Sb(this.Gr.next());return this.referenceDelegate.Zr(),s(u).next(f=>this.referenceDelegate.Xr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}ei(e,i){return F.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class Sb extends ZA{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.ti=new vd,this.ni=null}static ri(e){return new Ed(e)}get ii(){if(this.ni)return this.ni;throw ht()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),F.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),F.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(f=>this.ii.add(f.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,s=>{const u=ot.fromPath(s);return this.si(e,u).next(f=>{f||i.removeEntry(u,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return F.or([()=>F.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class $o{constructor(e,i){this.persistence=e,this.oi=new Sr(s=>tS(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=hb(this,i)}static ri(e,i){return new $o(e,i)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return F.forEach(this.oi,(s,u)=>this.ar(e,s,u).next(f=>f?F.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,f.removeEntry(d,mt.min()))})).next(()=>f.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),F.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uo(e.data.value)),i}ar(e,i,s){return F.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return F.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=u}static Yi(e,i){let s=Dt(),u=Dt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Td(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return T0()?8:JA(_0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,u){const f={result:null};return this.rs(e,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.ss(e,i,u,s).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new bb;return this._s(e,i,d).next(g=>{if(f.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>f.result)}us(e,i,s,u){return s.documentReadCount<this.es?(ps()<=Mt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",ys(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(ps()<=Mt.DEBUG&&nt("QueryEngine","Query:",ys(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ts*u?(ps()<=Mt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",ys(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):F.resolve())}rs(e,i){if(Cy(i))return F.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Yh(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const d=Dt(...f);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Yh(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,s,u){return Cy(i)||u.isEqual(mt.min())?F.resolve(null):this.ns.getDocuments(e,s).next(f=>{const d=this.cs(i,f);return this.ls(i,d,s,u)?F.resolve(null):(ps()<=Mt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ys(i)),this.hs(e,d,i,KA(u,Yl)).next(g=>g))})}cs(e,i){let s=new be(tv(e));return i.forEach((u,f)=>{oc(e,f)&&(s=s.add(f))}),s}ls(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}_s(e,i,s){return ps()<=Mt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",ys(i)),this.ns.getDocumentsMatchingQuery(e,i,Ca.min(),s)}hs(e,i,s,u){return this.ns.getDocumentsMatchingQuery(e,s,u).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="LocalStore",wb=3e8;class Db{constructor(e,i,s,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new te(wt),this.Is=new Sr(f=>dd(f),md),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gb(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function Cb(r,e,i,s){return new Db(r,e,i,s)}async function bv(r,e){const i=pt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const d=[],g=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}for(const v of f){g.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function Ib(r,e){const i=pt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),f=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,b){const N=v.batch,k=N.keys();let q=F.resolve();return k.forEach(Z=>{q=q.next(()=>b.getEntry(_,Z)).next(W=>{const X=v.docVersions.get(Z);qt(X!==null),W.version.compareTo(X)<0&&(N.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),b.addEntry(W)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(_,N))}(i,s,e,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Dt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function Rv(r){const e=pt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function Vb(r,e){const i=pt(r),s=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((b,N)=>{const k=u.get(N);if(!k)return;g.push(i.Hr.removeMatchingKeys(f,b.removedDocuments,N).next(()=>i.Hr.addMatchingKeys(f,b.addedDocuments,N)));let q=k.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(N)!==null?q=q.withResumeToken(ke.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,s)),u=u.insert(N,q),function(W,X,St){return W.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=wb?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(k,q,b)&&g.push(i.Hr.updateTargetData(f,q))});let _=zi(),v=Dt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,b))}),g.push(Ob(f,d,e.documentUpdates).next(b=>{_=b.Vs,v=b.fs})),!s.isEqual(mt.min())){const b=i.Hr.getLastRemoteSnapshotVersion(f).next(N=>i.Hr.setTargetsMetadata(f,f.currentSequenceNumber,s));g.push(b)}return F.waitFor(g).next(()=>d.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,_,v)).next(()=>_)}).then(f=>(i.Ts=u,f))}function Ob(r,e,i){let s=Dt(),u=Dt();return i.forEach(f=>s=s.add(f)),e.getEntries(r,s).next(f=>{let d=zi();return i.forEach((g,_)=>{const v=f.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt(Ad,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function Nb(r,e){const i=pt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=cd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Mb(r,e){const i=pt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Hr.getTargetData(s,e).next(f=>f?(u=f,F.resolve(u)):i.Hr.allocateTargetId(s).next(d=>(u=new Ta(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ts.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Wh(r,e,i){const s=pt(r),u=s.Ts.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Vs(d))throw d;nt(Ad,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(u.target)}function qy(r,e,i){const s=pt(r);let u=mt.min(),f=Dt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,b){const N=pt(_),k=N.Is.get(b);return k!==void 0?F.resolve(N.Ts.get(k)):N.Hr.getTargetData(v,b)}(s,d,ni(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{f=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?u:mt.min(),i?f:Dt())).next(g=>(Ub(s,ES(e),g),{documents:g,gs:f})))}function Ub(r,e,i){let s=r.Es.get(e)||mt.min();i.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),r.Es.set(e,s)}class Hy{constructor(){this.activeTargetIds=wS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xb{constructor(){this.ho=new Hy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Hy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="ConnectivityMonitor";class Gy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(jy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(jy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo=null;function td(){return Oo===null?Oo=function(){return 268435456+Math.round(2147483648*Math.random())}():Oo++,"0x"+Oo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="RestConnection",zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pb{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${u}`,this.wo=this.databaseId.database===jo?`project_id=${s}`:`project_id=${s}&database_id=${u}`}So(e,i,s,u,f){const d=td(),g=this.bo(e,i.toUriEncodedString());nt(Vh,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,f),this.vo(e,g,_,s).then(v=>(nt(Vh,`Received RPC '${e}' ${d}: `,v),v),v=>{throw Ts(Vh,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(e,i,s,u,f,d){return this.So(e,i,s,u,f)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,f)=>e[f]=u),s&&s.headers.forEach((u,f)=>e[f]=u)}bo(e,i){const s=zb[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class Bb extends Pb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,u){const f=td();return new Promise((d,g)=>{const _=new I_;_.setWithCredentials(!0),_.listenOnce(V_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Mo.NO_ERROR:const b=_.getResponseJson();nt(je,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),d(b);break;case Mo.TIMEOUT:nt(je,`RPC '${e}' ${f} timed out`),g(new ut(K.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const N=_.getStatus();if(nt(je,`RPC '${e}' ${f} failed with status:`,N,"response text:",_.getResponseText()),N>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k==null?void 0:k.error;if(q&&q.status&&q.message){const Z=function(X){const St=X.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(St)>=0?St:K.UNKNOWN}(q.status);g(new ut(Z,q.message))}else g(new ut(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut(K.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{nt(je,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(u);nt(je,`RPC '${e}' ${f} sending request:`,u),_.send(i,"POST",v,s,15)})}Wo(e,i,s){const u=td(),f=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=M_(),g=N_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const b=f.join("");nt(je,`Creating RPC '${e}' stream ${u}: ${b}`,_);const N=d.createWebChannel(b,_);let k=!1,q=!1;const Z=new kb({Fo:X=>{q?nt(je,`Not sending because RPC '${e}' stream ${u} is closed:`,X):(k||(nt(je,`Opening RPC '${e}' stream ${u} transport.`),N.open(),k=!0),nt(je,`RPC '${e}' stream ${u} sending:`,X),N.send(X))},Mo:()=>N.close()}),W=(X,St,dt)=>{X.listen(St,Et=>{try{dt(Et)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return W(N,kl.EventType.OPEN,()=>{q||(nt(je,`RPC '${e}' stream ${u} transport opened.`),Z.Qo())}),W(N,kl.EventType.CLOSE,()=>{q||(q=!0,nt(je,`RPC '${e}' stream ${u} transport closed`),Z.Uo())}),W(N,kl.EventType.ERROR,X=>{q||(q=!0,Ts(je,`RPC '${e}' stream ${u} transport errored:`,X),Z.Uo(new ut(K.UNAVAILABLE,"The operation could not be completed")))}),W(N,kl.EventType.MESSAGE,X=>{var St;if(!q){const dt=X.data[0];qt(!!dt);const Et=dt,Qt=(Et==null?void 0:Et.error)||((St=Et[0])===null||St===void 0?void 0:St.error);if(Qt){nt(je,`RPC '${e}' stream ${u} received error:`,Qt);const yt=Qt.status;let Ut=function(A){const D=me[A];if(D!==void 0)return hv(D)}(yt),M=Qt.message;Ut===void 0&&(Ut=K.INTERNAL,M="Unknown error status: "+yt+" with message "+Qt.message),q=!0,Z.Uo(new ut(Ut,M)),N.close()}else nt(je,`RPC '${e}' stream ${u} received:`,dt),Z.Ko(dt)}}),W(g,O_.STAT_EVENT,X=>{X.stat===qh.PROXY?nt(je,`RPC '${e}' stream ${u} detected buffering proxy`):X.stat===qh.NOPROXY&&nt(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function Oh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(r){return new GS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i,s=1e3,u=1.5,f=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=u,this.jo=f,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-s);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="PersistentStream";class Dv{constructor(e,i,s,u,f,d,g,_){this.Ti=e,this.n_=s,this.r_=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new wv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.i_===i&&this.V_(s,u)},s=>{e(()=>{const u=new ut(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(u)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{s(()=>this.m_(u))}),this.stream.onMessage(u=>{s(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Fy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Fy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qb extends Dv{constructor(e,i,s,u,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=KS(this.serializer,e),s=function(f){if(!("targetChange"in f))return mt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?ii(d.readTime):mt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Jh(this.serializer),i.addTarget=function(f,d){let g;const _=d.target;if(g=Kh(_)?{documents:$S(f,_)}:{query:ZS(f,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=gv(f,d.resumeToken);const v=Xh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){g.readTime=Xo(f,d.snapshotVersion.toTimestamp());const v=Xh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=WS(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Jh(this.serializer),i.removeTarget=e,this.I_(i)}}class Hb extends Dv{constructor(e,i,s,u,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=XS(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Jh(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>YS(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{}class Gb extends jb{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.So(e,$h(i,s),u,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(K.UNKNOWN,f.toString())})}Co(e,i,s,u,f){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,$h(i,s),u,d,g,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Fb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="RemoteStore";class Qb{constructor(e,i,s,u,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=f,this.z_.To(d=>{s.enqueueAndForget(async()=>{Rr(this)&&(nt(vr,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await iu(v),v.j_.set("Unknown"),v.W_.delete(4),await mc(v)}(this))})}),this.j_=new Fb(s,u)}}async function mc(r){if(Rr(r))for(const e of r.G_)await e(!0)}async function iu(r){for(const e of r.G_)await e(!1)}function Cv(r,e){const i=pt(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),wd(i)?Rd(i):Os(i).c_()&&bd(i,e))}function Sd(r,e){const i=pt(r),s=Os(i);i.K_.delete(e),s.c_()&&Iv(i,e),i.K_.size===0&&(s.c_()?s.P_():Rr(i)&&i.j_.set("Unknown"))}function bd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Os(r).y_(e)}function Iv(r,e){r.H_.Ne(e),Os(r).w_(e)}function Rd(r){r.H_=new BS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Os(r).start(),r.j_.B_()}function wd(r){return Rr(r)&&!Os(r).u_()&&r.K_.size>0}function Rr(r){return pt(r).W_.size===0}function Vv(r){r.H_=void 0}async function Kb(r){r.j_.set("Online")}async function Yb(r){r.K_.forEach((e,i)=>{bd(r,e)})}async function Xb(r,e){Vv(r),wd(r)?(r.j_.q_(e),Rd(r)):r.j_.set("Unknown")}async function $b(r,e,i){if(r.j_.set("Online"),e instanceof mv&&e.state===2&&e.cause)try{await async function(u,f){const d=f.cause;for(const g of f.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(r,e)}catch(s){nt(vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zo(r,s)}else if(e instanceof zo?r.H_.We(e):e instanceof dv?r.H_.Ze(e):r.H_.je(e),!i.isEqual(mt.min()))try{const s=await Rv(r.localStore);i.compareTo(s)>=0&&await function(f,d){const g=f.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const b=f.K_.get(v);b&&f.K_.set(v,b.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const b=f.K_.get(_);if(!b)return;f.K_.set(_,b.withResumeToken(ke.EMPTY_BYTE_STRING,b.snapshotVersion)),Iv(f,_);const N=new Ta(b.target,_,v,b.sequenceNumber);bd(f,N)}),f.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){nt(vr,"Failed to raise snapshot:",s),await Zo(r,s)}}async function Zo(r,e,i){if(!Vs(e))throw e;r.W_.add(1),await iu(r),r.j_.set("Offline"),i||(i=()=>Rv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{nt(vr,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await mc(r)})}function Ov(r,e){return e().catch(i=>Zo(r,i,e))}async function gc(r){const e=pt(r),i=Na(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:cd;for(;Zb(e);)try{const u=await Nb(e.localStore,s);if(u===null){e.U_.length===0&&i.P_();break}s=u.batchId,Jb(e,u)}catch(u){await Zo(e,u)}Nv(e)&&Mv(e)}function Zb(r){return Rr(r)&&r.U_.length<10}function Jb(r,e){r.U_.push(e);const i=Na(r);i.c_()&&i.S_&&i.b_(e.mutations)}function Nv(r){return Rr(r)&&!Na(r).u_()&&r.U_.length>0}function Mv(r){Na(r).start()}async function Wb(r){Na(r).C_()}async function t1(r){const e=Na(r);for(const i of r.U_)e.b_(i.mutations)}async function e1(r,e,i){const s=r.U_.shift(),u=pd.from(s,e,i);await Ov(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),await gc(r)}async function n1(r,e){e&&Na(r).S_&&await async function(s,u){if(function(d){return PS(d)&&d!==K.ABORTED}(u.code)){const f=s.U_.shift();Na(s).h_(),await Ov(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,u)),await gc(s)}}(r,e),Nv(r)&&Mv(r)}async function Qy(r,e){const i=pt(r);i.asyncQueue.verifyOperationInProgress(),nt(vr,"RemoteStore received new credentials");const s=Rr(i);i.W_.add(3),await iu(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await mc(i)}async function i1(r,e){const i=pt(r);e?(i.W_.delete(2),await mc(i)):e||(i.W_.add(2),await iu(i),i.j_.set("Unknown"))}function Os(r){return r.J_||(r.J_=function(i,s,u){const f=pt(i);return f.M_(),new qb(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(r.datastore,r.asyncQueue,{xo:Kb.bind(null,r),No:Yb.bind(null,r),Lo:Xb.bind(null,r),p_:$b.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),wd(r)?Rd(r):r.j_.set("Unknown")):(await r.J_.stop(),Vv(r))})),r.J_}function Na(r){return r.Y_||(r.Y_=function(i,s,u){const f=pt(i);return f.M_(),new Hb(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Wb.bind(null,r),Lo:n1.bind(null,r),D_:t1.bind(null,r),v_:e1.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await gc(r)):(await r.Y_.stop(),r.U_.length>0&&(nt(vr,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i,s,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,f){const d=Date.now()+s,g=new Dd(e,i,d,u,f);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(r,e){if(Li("AsyncQueue",`${e}: ${r}`),Vs(r))return new ut(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ot.comparator(i.key,s.key):(i,s)=>ot.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Es;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Z_=new te(ot.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ht():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class ws{constructor(e,i,s,u,f,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,u,f){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ws(e,i,Es.emptySet(i),d,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class r1{constructor(){this.queries=Yy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const u=pt(i),f=u.queries;u.queries=Yy(),f.forEach((d,g)=>{for(const _ of g.ta)_.onError(s)})})(this,new ut(K.ABORTED,"Firestore shutting down"))}}function Yy(){return new Sr(r=>W_(r),uc)}async function s1(r,e){const i=pt(r);let s=3;const u=e.query;let f=i.queries.get(u);f?!f.na()&&e.ra()&&(s=2):(f=new a1,s=e.ra()?0:1);try{switch(s){case 0:f.ea=await i.onListen(u,!0);break;case 1:f.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Cd(d,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,f),f.ta.push(e),e.sa(i.onlineState),f.ea&&e.oa(f.ea)&&Id(i)}async function l1(r,e){const i=pt(r),s=e.query;let u=3;const f=i.queries.get(s);if(f){const d=f.ta.indexOf(e);d>=0&&(f.ta.splice(d,1),f.ta.length===0?u=e.ra()?0:1:!f.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function u1(r,e){const i=pt(r);let s=!1;for(const u of e){const f=u.query,d=i.queries.get(f);if(d){for(const g of d.ta)g.oa(u)&&(s=!0);d.ea=u}}s&&Id(i)}function o1(r,e,i){const s=pt(r),u=s.queries.get(e);if(u)for(const f of u.ta)f.onError(i);s.queries.delete(e)}function Id(r){r.ia.forEach(e=>{e.next()})}var ed,Xy;(Xy=ed||(ed={}))._a="default",Xy.Cache="cache";class c1{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ed.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.key=e}}class xv{constructor(e){this.key=e}}class f1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=tv(e),this.wa=new Es(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Ky,u=i?i.wa:this.wa;let f=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((b,N)=>{const k=u.get(b),q=oc(this.query,N)?N:null,Z=!!k&&this.mutatedKeys.has(k.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let X=!1;k&&q?k.data.isEqual(q.data)?Z!==W&&(s.track({type:3,doc:q}),X=!0):this.va(k,q)||(s.track({type:2,doc:q}),X=!0,(_&&this.ya(q,_)>0||v&&this.ya(q,v)<0)&&(g=!0)):!k&&q?(s.track({type:0,doc:q}),X=!0):k&&!q&&(s.track({type:1,doc:k}),X=!0,(_||v)&&(g=!0)),X&&(q?(d=d.add(q),f=W?f.add(b):f.delete(b)):(d=d.delete(b),f=f.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),f=f.delete(b.key),s.track({type:1,doc:b})}return{wa:d,Da:s,ls:g,mutatedKeys:f}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const f=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((b,N)=>function(q,Z){const W=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return W(q)-W(Z)}(b.type,N.type)||this.ya(b.doc,N.doc)),this.Ca(s),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new ws(this.query,e.wa,f,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ky,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Dt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new xv(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new Uv(s))}),i}Oa(e){this.fa=e.gs,this.pa=Dt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ws.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Vd="SyncEngine";class h1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class d1{constructor(e){this.key=e,this.Ba=!1}}class m1{constructor(e,i,s,u,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Sr(g=>W_(g),uc),this.qa=new Map,this.Qa=new Set,this.$a=new te(ot.comparator),this.Ua=new Map,this.Ka=new vd,this.Wa={},this.Ga=new Map,this.za=Rs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g1(r,e,i=!0){const s=qv(r);let u;const f=s.ka.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Na()):u=await Lv(s,e,i,!0),u}async function p1(r,e){const i=qv(r);await Lv(i,e,!0,!1)}async function Lv(r,e,i,s){const u=await Mb(r.localStore,ni(e)),f=u.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await y1(r,e,f,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&Cv(r.remoteStore,u),g}async function y1(r,e,i,s,u){r.Ha=(N,k,q)=>async function(W,X,St,dt){let Et=X.view.ba(St);Et.ls&&(Et=await qy(W.localStore,X.query,!1).then(({documents:M})=>X.view.ba(M,Et)));const Qt=dt&&dt.targetChanges.get(X.targetId),yt=dt&&dt.targetMismatches.get(X.targetId)!=null,Ut=X.view.applyChanges(Et,W.isPrimaryClient,Qt,yt);return Zy(W,X.targetId,Ut.Ma),Ut.snapshot}(r,N,k,q);const f=await qy(r.localStore,e,!0),d=new f1(e,f.gs),g=d.ba(f.documents),_=nu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),v=d.applyChanges(g,r.isPrimaryClient,_);Zy(r,i,v.Ma);const b=new h1(e,i,d);return r.ka.set(e,b),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),v.snapshot}async function _1(r,e,i){const s=pt(r),u=s.ka.get(e),f=s.qa.get(u.targetId);if(f.length>1)return s.qa.set(u.targetId,f.filter(d=>!uc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Wh(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Sd(s.remoteStore,u.targetId),nd(s,u.targetId)}).catch(Is)):(nd(s,u.targetId),await Wh(s.localStore,u.targetId,!0))}async function v1(r,e){const i=pt(r),s=i.ka.get(e),u=i.qa.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Sd(i.remoteStore,s.targetId))}async function E1(r,e,i){const s=D1(r);try{const u=await function(d,g){const _=pt(d),v=Se.now(),b=g.reduce((q,Z)=>q.add(Z.key),Dt());let N,k;return _.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=zi(),W=Dt();return _.ds.getEntries(q,b).next(X=>{Z=X,Z.forEach((St,dt)=>{dt.isValidDocument()||(W=W.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(q,Z)).next(X=>{N=X;const St=[];for(const dt of g){const Et=MS(dt,N.get(dt.key).overlayedDocument);Et!=null&&St.push(new br(dt.key,Et,F_(Et.value.mapValue),Mi.exists(!0)))}return _.mutationQueue.addMutationBatch(q,v,St,g)}).next(X=>{k=X;const St=X.applyToLocalDocumentSet(N,W);return _.documentOverlayCache.saveOverlays(q,X.batchId,St)})}).then(()=>({batchId:k.batchId,changes:nv(N)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new te(wt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(s,u.batchId,i),await au(s,u.changes),await gc(s.remoteStore)}catch(u){const f=Cd(u,"Failed to persist write");i.reject(f)}}async function zv(r,e){const i=pt(r);try{const s=await Vb(i.localStore,e);e.targetChanges.forEach((u,f)=>{const d=i.Ua.get(f);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?qt(d.Ba):u.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await au(i,s,e)}catch(s){await Is(s)}}function $y(r,e,i){const s=pt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ka.forEach((f,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=pt(d);_.onlineState=g;let v=!1;_.queries.forEach((b,N)=>{for(const k of N.ta)k.sa(g)&&(v=!0)}),v&&Id(_)}(s.eventManager,e),u.length&&s.La.p_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function T1(r,e,i){const s=pt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Ua.get(e),f=u&&u.key;if(f){let d=new te(ot.comparator);d=d.insert(f,Fe.newNoDocument(f,mt.min()));const g=Dt().add(f),_=new hc(mt.min(),new Map,new te(wt),d,g);await zv(s,_),s.$a=s.$a.remove(f),s.Ua.delete(e),Od(s)}else await Wh(s.localStore,e,!1).then(()=>nd(s,e,i)).catch(Is)}async function A1(r,e){const i=pt(r),s=e.batch.batchId;try{const u=await Ib(i.localStore,e);kv(i,s,null),Pv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await au(i,u)}catch(u){await Is(u)}}async function S1(r,e,i){const s=pt(r);try{const u=await function(d,g){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return _.mutationQueue.lookupMutationBatch(v,g).next(N=>(qt(N!==null),b=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,b,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>_.localDocuments.getDocuments(v,b))})}(s.localStore,e);kv(s,e,i),Pv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await au(s,u)}catch(u){await Is(u)}}function Pv(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function kv(r,e,i){const s=pt(r);let u=s.Wa[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),s.Wa[s.currentUser.toKey()]=u}}function nd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||Bv(r,s)})}function Bv(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Sd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),Od(r))}function Zy(r,e,i){for(const s of i)s instanceof Uv?(r.Ka.addReference(s.key,e),b1(r,s)):s instanceof xv?(nt(Vd,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||Bv(r,s.key)):ht()}function b1(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(nt(Vd,"New document in limbo: "+i),r.Qa.add(s),Od(r))}function Od(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new ot($t.fromString(e)),s=r.za.next();r.Ua.set(s,new d1(i)),r.$a=r.$a.insert(i,s),Cv(r.remoteStore,new Ta(ni(J_(i.path)),s,"TargetPurposeLimboResolution",ac.ae))}}async function au(r,e,i){const s=pt(r),u=[],f=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,_)=>{d.push(s.Ha(_,e,i).then(v=>{var b;if((v||i)&&s.isPrimaryClient){const N=v?!v.fromCache:(b=i==null?void 0:i.targetChanges.get(_.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(v){u.push(v);const N=Td.Yi(_.targetId,v);f.push(N)}}))}),await Promise.all(d),s.La.p_(u),await async function(_,v){const b=pt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>F.forEach(v,k=>F.forEach(k.Hi,q=>b.persistence.referenceDelegate.addReference(N,k.targetId,q)).next(()=>F.forEach(k.Ji,q=>b.persistence.referenceDelegate.removeReference(N,k.targetId,q)))))}catch(N){if(!Vs(N))throw N;nt(Ad,"Failed to update sequence numbers: "+N)}for(const N of v){const k=N.targetId;if(!N.fromCache){const q=b.Ts.get(k),Z=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(Z);b.Ts=b.Ts.insert(k,W)}}}(s.localStore,f))}async function R1(r,e){const i=pt(r);if(!i.currentUser.isEqual(e)){nt(Vd,"User change. New user:",e.toKey());const s=await bv(i.localStore,e);i.currentUser=e,function(f,d){f.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ut(K.CANCELLED,d))})}),f.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await au(i,s.Rs)}}function w1(r,e){const i=pt(r),s=i.Ua.get(e);if(s&&s.Ba)return Dt().add(s.key);{let u=Dt();const f=i.qa.get(e);if(!f)return u;for(const d of f){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function qv(r){const e=pt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T1.bind(null,e),e.La.p_=u1.bind(null,e.eventManager),e.La.Ja=o1.bind(null,e.eventManager),e}function D1(r){const e=pt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S1.bind(null,e),e}class Jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return Cb(this.persistence,new Rb,e.initialUser,this.serializer)}Xa(e){return new Sv(Ed.ri,this.serializer)}Za(e){return new xb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jo.provider={build:()=>new Jo};class C1 extends Jo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof $o);const s=this.persistence.referenceDelegate.garbageCollector;return new cb(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Sv(s=>$o.ri(s,i),this.serializer)}}class id{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$y(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=R1.bind(null,this.syncEngine),await i1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r1}()}createDatastore(e){const i=dc(e.databaseInfo.databaseId),s=function(f){return new Bb(f)}(e.databaseInfo);return function(f,d,g,_){return new Gb(f,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,f,d,g){return new Qb(s,u,f,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>$y(this.syncEngine,i,0),function(){return Gy.D()?new Gy:new Lb}())}createSyncEngine(e,i){return function(u,f,d,g,_,v,b){const N=new m1(u,f,d,g,_,v);return b&&(N.ja=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const f=pt(u);nt(vr,"RemoteStore shutting down."),f.W_.add(5),await iu(f),f.z_.shutdown(),f.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}id.provider={build:()=>new id};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class V1{constructor(e,i,s,u,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=x_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async d=>{nt(Ma,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(Ma,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Cd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nh(r,e){r.asyncQueue.verifyOperationInProgress(),nt(Ma,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async u=>{s.isEqual(u)||(await bv(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Jy(r,e){r.asyncQueue.verifyOperationInProgress();const i=await O1(r);nt(Ma,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Qy(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,u)=>Qy(e.remoteStore,u)),r._onlineComponents=e}async function O1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(Ma,"Using user provided OfflineComponentProvider");try{await Nh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Nh(r,new Jo)}}else nt(Ma,"Using default OfflineComponentProvider"),await Nh(r,new C1(void 0));return r._offlineComponents}async function Hv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(Ma,"Using user provided OnlineComponentProvider"),await Jy(r,r._uninitializedComponentsProvider._online)):(nt(Ma,"Using default OnlineComponentProvider"),await Jy(r,new id))),r._onlineComponents}function N1(r){return Hv(r).then(e=>e.syncEngine)}async function M1(r){const e=await Hv(r),i=e.eventManager;return i.onListen=g1.bind(null,e.syncEngine),i.onUnlisten=_1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=p1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=v1.bind(null,e.syncEngine),i}function U1(r,e,i={}){const s=new Ra;return r.asyncQueue.enqueueAndForget(async()=>function(f,d,g,_,v){const b=new I1({next:k=>{b.su(),d.enqueueAndForget(()=>l1(f,N)),k.fromCache&&_.source==="server"?v.reject(new ut(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(k)},error:k=>v.reject(k)}),N=new c1(g,b,{includeMetadataChanges:!0,Ta:!0});return s1(f,N)}(await M1(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r,e,i){if(!i)throw new ut(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function x1(r,e,i,s){if(e===!0&&s===!0)throw new ut(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function t_(r){if(!ot.isDocumentKey(r))throw new ut(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function e_(r){if(ot.isDocumentKey(r))throw new ut(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Nd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ht()}function Wo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nd(r);throw new ut(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="firestore.googleapis.com",n_=!0;class i_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fv,this.ssl=n_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:n_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Av;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ub)throw new ut(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new kA;switch(s.type){case"firstParty":return new jA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Wy.get(i);s&&(nt("ComponentProvider","Removing Datastore"),Wy.delete(i),s.terminate())}(this),Promise.resolve()}}function L1(r,e,i,s={}){var u;const f=(r=Wo(r,pc))._getSettings(),d=`${e}:${i}`;if(f.host!==Fv&&f.host!==d&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Ge.MOCK_USER;else{g=y0(s.mockUserToken,(u=r._app)===null||u===void 0?void 0:u.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ut(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ge(v)}r._authCredentials=new BA(new U_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class zn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class wa extends yc{constructor(e,i,s){super(e,i,J_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ot(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function a_(r,e,...i){if(r=yr(r),Gv("collection","path",e),r instanceof pc){const s=$t.fromString(e,...i);return e_(s),new wa(r,null,s)}{if(!(r instanceof zn||r instanceof wa))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return e_(s),new wa(r.firestore,null,s)}}function z1(r,e,...i){if(r=yr(r),arguments.length===1&&(e=x_.newId()),Gv("doc","path",e),r instanceof pc){const s=$t.fromString(e,...i);return t_(s),new zn(r,null,new ot(s))}{if(!(r instanceof zn||r instanceof wa))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return t_(s),new zn(r.firestore,r instanceof wa?r.converter:null,new ot(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="AsyncQueue";class s_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new wv(this,"async_queue_retry"),this.Su=()=>{const s=Oh();s&&nt(r_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Oh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Oh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ra;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Vs(e))throw e;nt(r_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Li("INTERNAL UNHANDLED ERROR: ",u),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=Dd.createAndSchedule(this,e,i,s,f=>this.Fu(f));return this.fu.push(u),u}Du(){this.gu&&ht()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Md extends pc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new s_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s_(e),this._firestoreClient=void 0,await e}}}function P1(r,e){const i=typeof r=="object"?r:R_(),s=typeof r=="string"?r:jo,u=tu(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=g0("firestore");f&&L1(u,...f)}return u}function Qv(r){if(r._terminated)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||k1(r),r._firestoreClient}function k1(r){var e,i,s;const u=r._freezeSettings(),f=function(g,_,v,b){return new iS(g,_,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,jv(b.experimentalLongPollingOptions),b.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,u);r._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),r._firestoreClient=new V1(r._authCredentials,r._appCheckCredentials,r._queue,f,r._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(ke.fromBase64String(e))}catch(i){throw new ut(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ds(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=/^__.*__$/;class q1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}function Yv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class zd{constructor(e,i,s,u,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,f===void 0&&this.Bu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new zd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.$u(e),u}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Yv(this.Lu)&&B1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class H1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||dc(e)}ju(e,i,s,u=!1){return new zd({Lu:e,methodName:i,zu:s,path:Pe.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j1(r){const e=r._freezeSettings(),i=dc(r._databaseId);return new H1(r._databaseId,!!e.ignoreUndefinedProperties,i)}function G1(r,e,i,s,u,f={}){const d=r.ju(f.merge||f.mergeFields?2:0,e,i,u);Jv("Data must be an object, but it was:",d,s);const g=$v(s,d);let _,v;if(f.merge)_=new Ln(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const b=[];for(const N of f.mergeFields){const k=F1(e,N,i);if(!d.contains(k))throw new ut(K.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);K1(b,k)||b.push(k)}_=new Ln(b),v=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,v=d.fieldTransforms;return new q1(new In(g),_,v)}function Xv(r,e){if(Zv(r=yr(r)))return Jv("Unsupported field value:",e,r),$v(r,e);if(r instanceof Kv)return function(s,u){if(!Yv(u.Lu))throw u.Wu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,u){const f=[];let d=0;for(const g of s){let _=Xv(g,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}}(r,e)}return function(s,u){if((s=yr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DS(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Se.fromDate(s);return{timestampValue:Xo(u.serializer,f)}}if(s instanceof Se){const f=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xo(u.serializer,f)}}if(s instanceof xd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ds)return{bytesValue:gv(u.serializer,s._byteString)};if(s instanceof zn){const f=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:_d(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ld)return function(d,g){return{mapValue:{fields:{[j_]:{stringValue:G_},[Go]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return gd(g.serializer,v)})}}}}}}(s,u);throw u.Wu(`Unsupported field value: ${Nd(s)}`)}(r,e)}function $v(r,e){const i={};return z_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(r,(s,u)=>{const f=Xv(u,e.qu(s));f!=null&&(i[s]=f)}),{mapValue:{fields:i}}}function Zv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof xd||r instanceof Ds||r instanceof zn||r instanceof Kv||r instanceof Ld)}function Jv(r,e,i){if(!Zv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=Nd(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function F1(r,e,i){if((e=yr(e))instanceof Ud)return e._internalPath;if(typeof e=="string")return Wv(r,e);throw tc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Q1=new RegExp("[~\\*/\\[\\]]");function Wv(r,e,i){if(e.search(Q1)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ud(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function tc(r,e,i,s,u){const f=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${u}`),_+=")"),new ut(K.INVALID_ARGUMENT,g+r+_)}function K1(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,i,s,u,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(eE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Y1 extends tE{data(){return super.data()}}function eE(r,e){return typeof e=="string"?Wv(r,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $1{convertValue(e,i="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ht()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ar(e,(u,f)=>{s[u]=this.convertValue(f,i)}),s}convertVectorValue(e){var i,s,u;const f=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[Go].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new Ld(f)}convertGeoPoint(e){return new xd(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=sc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=Ia(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=$t.fromString(e);qt(Tv(s));const u=new $l(s.get(1),s.get(3)),f=new ot(s.popFirst(5));return u.isEqual(i)||Li(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J1 extends tE{constructor(e,i,s,u,f,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(eE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Po extends J1{data(e={}){return super.data(e)}}class W1{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new No(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Po(this._firestore,this._userDataWriter,s.key,s,new No(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Po(u._firestore,u._userDataWriter,g.doc.key,g.doc,new No(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>f||g.type!==3).map(g=>{const _=new Po(u._firestore,u._userDataWriter,g.doc.key,g.doc,new No(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,b=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:tR(g.type),doc:_,oldIndex:v,newIndex:b}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function tR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}class eR extends $1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,i)}}function nR(r){r=Wo(r,yc);const e=Wo(r.firestore,Md),i=Qv(e),s=new eR(e);return X1(r._query),U1(i,r._query).then(u=>new W1(e,s,r,u))}function iR(r,e){const i=Wo(r.firestore,Md),s=z1(r),u=Z1(r.converter,e);return aR(i,[G1(j1(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Mi.exists(!1))]).then(()=>s)}function aR(r,e){return function(s,u){const f=new Ra;return s.asyncQueue.enqueueAndForget(async()=>E1(await N1(s),u,f)),f.promise}(Qv(r),e)}(function(e,i=!0){(function(u){Cs=u})(CA),Da(new Ui("firestore",(s,{instanceIdentifier:u,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new Md(new qA(s.getProvider("auth-internal")),new GA(d,s.getProvider("app-check-internal")),function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,b)}(d,u),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g},"PUBLIC").setMultipleInstances(!0)),ei(hy,dy,e),ei(hy,dy,"esm2017")})();var rR="firebase",sR="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(rR,sR,"app");const nE="@firebase/installations",Pd="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=1e4,aE=`w:${Pd}`,rE="FIS_v2",lR="https://firebaseinstallations.googleapis.com/v1",uR=60*60*1e3,oR="installations",cR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Er=new ic(oR,cR,fR);function sE(r){return r instanceof Ua&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE({projectId:r}){return`${lR}/projects/${r}/installations`}function uE(r){return{token:r.token,requestStatus:2,expiresIn:dR(r.expiresIn),creationTime:Date.now()}}async function oE(r,e){const s=(await e.json()).error;return Er.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function cE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function hR(r,{refreshToken:e}){const i=cE(r);return i.append("Authorization",mR(e)),i}async function fE(r){const e=await r();return e.status>=500&&e.status<600?r():e}function dR(r){return Number(r.replace("s","000"))}function mR(r){return`${rE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=lE(r),u=cE(r),f=e.getImmediate({optional:!0});if(f){const v=await f.getHeartbeatsHeader();v&&u.append("x-firebase-client",v)}const d={fid:i,authVersion:rE,appId:r.appId,sdkVersion:aE},g={method:"POST",headers:u,body:JSON.stringify(d)},_=await fE(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:uE(v.authToken)}}else throw await oE("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=/^[cdef][\w-]{21}$/,ad="";function _R(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=vR(r);return yR.test(i)?i:ad}catch{return ad}}function vR(r){return pR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;function mE(r,e){const i=_c(r);gE(i,e),ER(i,e)}function gE(r,e){const i=dE.get(r);if(i)for(const s of i)s(e)}function ER(r,e){const i=TR();i&&i.postMessage({key:r,fid:e}),AR()}let pr=null;function TR(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=r=>{gE(r.data.key,r.data.fid)}),pr}function AR(){dE.size===0&&pr&&(pr.close(),pr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebase-installations-database",bR=1,Tr="firebase-installations-store";let Mh=null;function kd(){return Mh||(Mh=S_(SR,bR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Tr)}}})),Mh}async function ec(r,e){const i=_c(r),u=(await kd()).transaction(Tr,"readwrite"),f=u.objectStore(Tr),d=await f.get(i);return await f.put(e,i),await u.done,(!d||d.fid!==e.fid)&&mE(r,e.fid),e}async function pE(r){const e=_c(r),s=(await kd()).transaction(Tr,"readwrite");await s.objectStore(Tr).delete(e),await s.done}async function vc(r,e){const i=_c(r),u=(await kd()).transaction(Tr,"readwrite"),f=u.objectStore(Tr),d=await f.get(i),g=e(d);return g===void 0?await f.delete(i):await f.put(g,i),await u.done,g&&(!d||d.fid!==g.fid)&&mE(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(r){let e;const i=await vc(r.appConfig,s=>{const u=RR(s),f=wR(r,u);return e=f.registrationPromise,f.installationEntry});return i.fid===ad?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function RR(r){const e=r||{fid:_R(),registrationStatus:0};return yE(e)}function wR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Er.create("app-offline"));return{installationEntry:e,registrationPromise:u}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=DR(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CR(r)}:{installationEntry:e}}async function DR(r,e){try{const i=await gR(r,e);return ec(r.appConfig,i)}catch(i){throw sE(i)&&i.customData.serverCode===409?await pE(r.appConfig):await ec(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function CR(r){let e=await l_(r.appConfig);for(;e.registrationStatus===1;)await hE(100),e=await l_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Bd(r);return s||i}return e}function l_(r){return vc(r,e=>{if(!e)throw Er.create("installation-not-found");return yE(e)})}function yE(r){return IR(r)?{fid:r.fid,registrationStatus:0}:r}function IR(r){return r.registrationStatus===1&&r.registrationTime+iE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR({appConfig:r,heartbeatServiceProvider:e},i){const s=OR(r,i),u=hR(r,i),f=e.getImmediate({optional:!0});if(f){const v=await f.getHeartbeatsHeader();v&&u.append("x-firebase-client",v)}const d={installation:{sdkVersion:aE,appId:r.appId}},g={method:"POST",headers:u,body:JSON.stringify(d)},_=await fE(()=>fetch(s,g));if(_.ok){const v=await _.json();return uE(v)}else throw await oE("Generate Auth Token",_)}function OR(r,{fid:e}){return`${lE(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(r,e=!1){let i;const s=await vc(r.appConfig,f=>{if(!_E(f))throw Er.create("not-registered");const d=f.authToken;if(!e&&UR(d))return f;if(d.requestStatus===1)return i=NR(r,e),f;{if(!navigator.onLine)throw Er.create("app-offline");const g=LR(f);return i=MR(r,g),g}});return i?await i:s.authToken}async function NR(r,e){let i=await u_(r.appConfig);for(;i.authToken.requestStatus===1;)await hE(100),i=await u_(r.appConfig);const s=i.authToken;return s.requestStatus===0?qd(r,e):s}function u_(r){return vc(r,e=>{if(!_E(e))throw Er.create("not-registered");const i=e.authToken;return zR(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function MR(r,e){try{const i=await VR(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await ec(r.appConfig,s),i}catch(i){if(sE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await pE(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ec(r.appConfig,s)}throw i}}function _E(r){return r!==void 0&&r.registrationStatus===2}function UR(r){return r.requestStatus===2&&!xR(r)}function xR(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+uR}function LR(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function zR(r){return r.requestStatus===1&&r.requestTime+iE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(r){const e=r,{installationEntry:i,registrationPromise:s}=await Bd(e);return s?s.catch(console.error):qd(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,e=!1){const i=r;return await BR(i),(await qd(i,e)).token}async function BR(r){const{registrationPromise:e}=await Bd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r){if(!r||!r.options)throw Uh("App Configuration");if(!r.name)throw Uh("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Uh(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Uh(r){return Er.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="installations",HR="installations-internal",jR=r=>{const e=r.getProvider("app").getImmediate(),i=qR(e),s=tu(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},GR=r=>{const e=r.getProvider("app").getImmediate(),i=tu(e,vE).getImmediate();return{getId:()=>PR(i),getToken:u=>kR(i,u)}};function FR(){Da(new Ui(vE,jR,"PUBLIC")),Da(new Ui(HR,GR,"PRIVATE"))}FR();ei(nE,Pd);ei(nE,Pd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="analytics",QR="firebase_id",KR="origin",YR=60*1e3,XR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new ld("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new ic("analytics","Analytics",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){if(!r.startsWith(Hd)){const e=fn.create("invalid-gtag-resource",{gtagURL:r});return nn.warn(e.message),""}return r}function EE(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function JR(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function WR(r,e){const i=JR("firebase-js-sdk-policy",{createScriptURL:ZR}),s=document.createElement("script"),u=`${Hd}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(u):u,s.async=!0,document.head.appendChild(s)}function tw(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function ew(r,e,i,s,u,f){const d=s[u];try{if(d)await e[d];else{const _=(await EE(i)).find(v=>v.measurementId===u);_&&await e[_.appId]}}catch(g){nn.error(g)}r("config",u,f)}async function nw(r,e,i,s,u){try{let f=[];if(u&&u.send_to){let d=u.send_to;Array.isArray(d)||(d=[d]);const g=await EE(i);for(const _ of d){const v=g.find(N=>N.measurementId===_),b=v&&e[v.appId];if(b)f.push(b);else{f=[];break}}}f.length===0&&(f=Object.values(e)),await Promise.all(f),r("event",s,u||{})}catch(f){nn.error(f)}}function iw(r,e,i,s){async function u(f,...d){try{if(f==="event"){const[g,_]=d;await nw(r,e,i,g,_)}else if(f==="config"){const[g,_]=d;await ew(r,e,i,s,g,_)}else if(f==="consent"){const[g,_]=d;r("consent",g,_)}else if(f==="get"){const[g,_,v]=d;r("get",g,_,v)}else if(f==="set"){const[g]=d;r("set",g)}else r(f,...d)}catch(g){nn.error(g)}}return u}function aw(r,e,i,s,u){let f=function(...d){window[s].push(arguments)};return window[u]&&typeof window[u]=="function"&&(f=window[u]),window[u]=iw(f,r,e,i),{gtagCore:f,wrappedGtag:window[u]}}function rw(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Hd)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=30,lw=1e3;class uw{constructor(e={},i=lw){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TE=new uw;function ow(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function cw(r){var e;const{appId:i,apiKey:s}=r,u={method:"GET",headers:ow(s)},f=XR.replace("{app-id}",i),d=await fetch(f,u);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function fw(r,e=TE,i){const{appId:s,apiKey:u,measurementId:f}=r.options;if(!s)throw fn.create("no-app-id");if(!u){if(f)return{measurementId:f,appId:s};throw fn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new mw;return setTimeout(async()=>{g.abort()},YR),AE({appId:s,apiKey:u,measurementId:f},d,g,e)}async function AE(r,{throttleEndTimeMillis:e,backoffCount:i},s,u=TE){var f;const{appId:d,measurementId:g}=r;try{await hw(s,e)}catch(_){if(g)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await cw(r);return u.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!dw(v)){if(u.deleteThrottleMetadata(d),g)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const b=Number((f=v==null?void 0:v.customData)===null||f===void 0?void 0:f.httpStatus)===503?ny(i,u.intervalMillis,sw):ny(i,u.intervalMillis),N={throttleEndTimeMillis:Date.now()+b,backoffCount:i+1};return u.setThrottleMetadata(d,N),nn.debug(`Calling attemptFetch again in ${b} millis`),AE(r,N,s,u)}}function hw(r,e){return new Promise((i,s)=>{const u=Math.max(e-Date.now(),0),f=setTimeout(i,u);r.addEventListener(()=>{clearTimeout(f),s(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dw(r){if(!(r instanceof Ua)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class mw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gw(r,e,i,s,u){if(u&&u.global){r("event",i,s);return}else{const f=await e,d=Object.assign(Object.assign({},s),{send_to:f});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(){if(v_())try{await E_()}catch(r){return nn.warn(fn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return nn.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yw(r,e,i,s,u,f,d){var g;const _=fw(r);_.then(q=>{i[q.measurementId]=q.appId,r.options.measurementId&&q.measurementId!==r.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${q.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(q=>nn.error(q)),e.push(_);const v=pw().then(q=>{if(q)return s.getId()}),[b,N]=await Promise.all([_,v]);rw(f)||WR(f,b.measurementId),u("js",new Date);const k=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return k[KR]="firebase",k.update=!0,N!=null&&(k[QR]=N),u("config",b.measurementId,k),b.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.app=e}_delete(){return delete Ql[this.app.options.appId],Promise.resolve()}}let Ql={},o_=[];const c_={};let xh="dataLayer",vw="gtag",f_,SE,h_=!1;function Ew(){const r=[];if(E0()&&r.push("This is a browser extension environment."),A0()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,u)=>`(${u+1}) ${s}`).join(" "),i=fn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function Tw(r,e,i){Ew();const s=r.options.appId;if(!s)throw fn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fn.create("no-api-key");if(Ql[s]!=null)throw fn.create("already-exists",{id:s});if(!h_){tw(xh);const{wrappedGtag:f,gtagCore:d}=aw(Ql,o_,c_,xh,vw);SE=f,f_=d,h_=!0}return Ql[s]=yw(r,o_,c_,e,f_,xh,i),new _w(r)}function Aw(r=R_()){r=yr(r);const e=tu(r,nc);return e.isInitialized()?e.getImmediate():Sw(r)}function Sw(r,e={}){const i=tu(r,nc);if(i.isInitialized()){const u=i.getImmediate();if(Bo(e,i.getOptions()))return u;throw fn.create("already-initialized")}return i.initialize({options:e})}function bw(r,e,i,s){r=yr(r),gw(SE,Ql[r.app.options.appId],e,i,s).catch(u=>nn.error(u))}const d_="@firebase/analytics",m_="0.10.11";function Rw(){Da(new Ui(nc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),u=e.getProvider("installations-internal").getImmediate();return Tw(s,u,i)},"PUBLIC")),Da(new Ui("analytics-internal",r,"PRIVATE")),ei(d_,m_),ei(d_,m_,"esm2017");function r(e){try{const i=e.getProvider(nc).getImmediate();return{logEvent:(s,u,f)=>bw(i,s,u,f)}}catch(i){throw fn.create("interop-component-reg-failed",{reason:i})}}}Rw();const ww={apiKey:"AIzaSyC_77s7fiOEKObmMK2x0Y30BZDdvIQzHxA",authDomain:"dey-tv.firebaseapp.com",projectId:"dey-tv",storageBucket:"dey-tv.firebasestorage.app",messagingSenderId:"409227441952",appId:"1:409227441952:web:142779b6cb95a4dbb80945",measurementId:"G-Z6SBPGPT4X"},bE=b_(ww);Aw(bE);const g_=P1(bE);function Dw({user:r,setUser:e}){return Ft.jsx("div",{className:"header-container",children:Ft.jsx("div",{onClick:()=>e(r==="default"?"eshika":"default"),className:"change-user",children:r[0]})})}function Cw(){const[r,e]=dr.useState([]),[i,s]=dr.useState(""),[u,f]=dr.useState(""),[d,g]=dr.useState(!1),[_,v]=dr.useState("default");async function b(){let q="channels";_!="default"&&(q=_+"-"+q);const Z=await nR(a_(g_,q)),W=[];Z.forEach(X=>{W.push({id:X.id,name:X.data().name,logo:X.data().logo,link:X.data().link})}),e(W)}function N(){g(!1)}async function k(){let q="channels";_!="default"&&(q=_+"-"+q);try{const Z=await iR(a_(g_,q),{name:i,logo:"https://www.shutterstock.com/image-vector/image-icon-trendy-flat-style-600nw-643080895.jpg",link:u});g(!0)}catch(Z){console.error("Error adding document: ",Z)}s(""),f("")}return dr.useEffect(()=>{b()},[d,_]),Ft.jsxs("div",{className:"background",children:[Ft.jsx(Dw,{user:_,setUser:v}),Ft.jsx("div",{className:"banner",children:"Dey TV"}),Ft.jsxs("div",{className:"home-container",children:[r?r.map(q=>Ft.jsx(r0,{channelName:q.name,picURL:q.logo,link:q.link},q.id)):Ft.jsx("p",{children:"Loading"}),Ft.jsx("dialog",{id:"add_channel_modal",className:"modal",children:Ft.jsxs("div",{className:"modal-box",children:[Ft.jsx("h3",{className:"font-bold text-lg",children:"Add Channel"}),Ft.jsxs("div",{className:"flex flex-col items-center gap-2",children:[Ft.jsx("input",{type:"text",placeholder:"Type name",className:"input input-bordered w-full max-w-xs",value:i,onChange:q=>s(q.target.value)}),Ft.jsx("input",{type:"text",placeholder:"Type link",className:"input input-bordered w-full max-w-xs",value:u,onChange:q=>f(q.target.value)}),Ft.jsx("div",{className:"modal-btn hover:bg-green-100 w-35",onClick:k,children:"Add Channel"})," "]}),Ft.jsx("div",{className:"modal-action",children:Ft.jsx("form",{method:"dialog",children:Ft.jsx("button",{className:"modal-btn w-20",onClick:N,children:"Close"})})})]})})]}),Ft.jsx("div",{onClick:()=>document.getElementById("add_channel_modal").showModal(),className:"add-channel",children:"+"})]})}function Iw(){return Ft.jsx(Ft.Fragment,{children:Ft.jsx(Cw,{})})}a0.createRoot(document.getElementById("root")).render(Ft.jsx(dr.StrictMode,{children:Ft.jsx(Iw,{})}));
